(this["webpackJsonp@liferay/site-initializer-raylife-d2c-remote-app"]=this["webpackJsonp@liferay/site-initializer-raylife-d2c-remote-app"]||[]).push([[0],{153:function(e,t,n){"use strict";n.r(t);var a=n(34),r=n(35),i=n(68),c=n(72),s=n(73),o=n(1),l=n.n(o),u=n(18),d=n.n(u),b=n(9),m=n.n(b),p=window.Liferay||{BREAKPOINTS:{PHONE:0,TABLET:0},ThemeDisplay:{getCanonicalURL:function(){return window.location.href},getCompanyGroupId:function(){return 0},getPathThemeImages:function(){return null},getScopeGroupId:function(){return 0},getSiteGroupId:function(){return 0}},authToken:""};function j(){var e=new URL(p.ThemeDisplay.getCanonicalURL()).pathname.split("/").filter(Boolean);return"/".concat(e.slice(0,e.length-1).join("/"))}function f(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:j(),n="";window.location.href="".concat(t,"/").concat(e).concat(n)}var v=n(0),O=function(){var e=p.ThemeDisplay.getPathThemeImages();return e?"".concat(e,"/clay/icons.svg"):n(80).default},h=function(e){var t=e.children;return Object(v.jsx)(b.ClayIconSpriteContext.Provider,{value:O(),children:t})},x=(n(44),n(69)),S=function(e){var t={city:"",country:"",state:"",street:"",streetNumber:"",zip:""};return e.forEach((function(e){var n=e.long_name,a=e.short_name;switch(e.types[0]){case"street_number":t.streetNumber=n;break;case"route":t.street=n;break;case"locality":t.city=n;break;case"administrative_area_level_1":t.state=a;break;case"country":t.country=n;break;case"postal_code":t.zip=a}})),t},y=function(){var e=window.google;if(!e)throw new Error("google is not defined. Please check the Google Maps API key within System Settings and ensure a valid API key is entered");return new e.maps.InfoWindow},E=function(e){var t=window.google;if(!t)throw new Error("google is not defined. Please check the Google Maps API key within System Settings and ensure a valid API key is entered");if(!e)throw new Error("No HTMLElement was found as input. Ensure a valid HTMLElement reference is passed!");return t.maps.event.addDomListener(e,"keydown",(function(e){13!==e.keyCode&&"Enter"!==e.key||e.preventDefault()})),new t.maps.places.Autocomplete(e,{componentRestrictions:{country:"us"},fields:["address_components"]})},g=function(e){var t=e.getPlace();return S(t.address_components)},N=function(e){try{new x.a({apiKey:e,libraries:["places"]}).load()}catch(t){console.warn(t)}},I=(n(81),{applicationsfoldername:"Quote Application",googleplaceskey:"",route:""}),_=Object(o.createContext)(I),A=function(e){var t=e.children,n=e.properties;return Object(v.jsx)(_.Provider,{value:n,children:t})},C=n(7),T="Changes you made may not be saved.";function P(){window.onbeforeunload=function(){}}var w=n(6),L=n(4),R=n(2),k=n(5),B=n.n(k);function D(e){var t=e.children;return Object(v.jsx)("div",{className:"pl-5 py-5 raylife-template",children:t})}function M(e){var t=0,n=Object.values(e),a="_f";return n.forEach((function(e){e.hasOwnProperty(a)?e._f.required&&e._f.value&&""!==e._f.value&&(t+=1):t+=M(e)})),t}function U(e,t){return e>t?100:100*e/t}function Y(e){return 2*e*Math.PI}function q(e,t){return t-e/100*t}function F(e){e=(e=e.replace(/^\s+|\s+$/g,"")).toLowerCase();for(var t="\xe0\xe1\xe4\xe2\xe8\xe9\xeb\xea\xec\xed\xef\xee\xf2\xf3\xf6\xf4\xf9\xfa\xfc\xfb\xf1\xe7\xb7/_,:;",n=0,a=t.length;n<a;n++)e=e.replace(new RegExp(t.charAt(n),"g"),"aaaaeeeeiiiioooouuuunc------".charAt(n));return e=e.replace(/[^a-z0-9 -]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-")}var V=["general-liability","professional-liability","workers-compensation","business-owners-policy"];function H(e){return V.includes(F(e))}var W=function(e){return parseInt(e,10)},G=function(e,t){var n,a,r,i,c,s,o,l,u,d,b,m,p,j,f,v,O,h,x,S,y,E,g,N,I,_,A,C,T,P,w,L,R,k,B,D,M,U,Y,q,F,V,H,W,G,z,Q,K,J,$,X,Z,ee,te,ne,ae,re,ie,ce,se,oe,le,ue,de,be;return{address:null===e||void 0===e||null===(n=e.basics)||void 0===n||null===(a=n.businessInformation)||void 0===a||null===(r=a.business)||void 0===r||null===(i=r.location)||void 0===i?void 0:i.address,addressApt:null===e||void 0===e||null===(c=e.basics)||void 0===c||null===(s=c.businessInformation)||void 0===s||null===(o=s.business)||void 0===o||null===(l=o.location)||void 0===l?void 0:l.addressApt,annualPayrollForEmployees:null===e||void 0===e||null===(u=e.employees)||void 0===u?void 0:u.annualPayrollForEmployees,annualPayrollForOwner:null===e||void 0===e||null===(d=e.employees)||void 0===d?void 0:d.annualPayrollForOwner,applicationStatus:{key:null===t||void 0===t?void 0:t.key,name:null===t||void 0===t?void 0:t.name},buildingSquareFeetOccupied:null===e||void 0===e||null===(b=e.property)||void 0===b?void 0:b.buildingSquareFeetOccupied,businessCategoryId:null===e||void 0===e||null===(m=e.basics)||void 0===m?void 0:m.businessCategoryId,businessOperatesYearRound:null===e||void 0===e||null===(p=e.employees)||void 0===p?void 0:p.businessOperatesYearRound,businessSearch:null===e||void 0===e||null===(j=e.basics)||void 0===j?void 0:j.businessSearch,city:null===e||void 0===e||null===(f=e.basics)||void 0===f||null===(v=f.businessInformation)||void 0===v||null===(O=v.business)||void 0===O||null===(h=O.location)||void 0===h?void 0:h.city,doOwnBuildingAtAddress:null===e||void 0===e||null===(x=e.property)||void 0===x?void 0:x.doOwnBuildingAtAddress,email:null===e||void 0===e||null===(S=e.basics)||void 0===S||null===(y=S.businessInformation)||void 0===y||null===(E=y.business)||void 0===E?void 0:E.email,estimatedAnnualGrossRevenue:null===e||void 0===e||null===(g=e.employees)||void 0===g?void 0:g.estimatedAnnualGrossRevenue,fein:null===e||void 0===e||null===(N=e.employees)||void 0===N?void 0:N.fein,firstName:null===e||void 0===e||null===(I=e.basics)||void 0===I||null===(_=I.businessInformation)||void 0===_?void 0:_.firstName,hasAutoPolicy:null===e||void 0===e||null===(A=e.business)||void 0===A?void 0:A.hasAutoPolicy,hasFein:null===e||void 0===e||null===(C=e.employees)||void 0===C?void 0:C.hasFein,hasSellProductsUnderOwnBrand:null===e||void 0===e||null===(T=e.business)||void 0===T?void 0:T.hasSellProductsUnderOwnBrand,hasStoredCustomerInformation:null===e||void 0===e||null===(P=e.business)||void 0===P?void 0:P.hasStoredCustomerInformation,isPrimaryBusinessLocation:null===e||void 0===e||null===(w=e.property)||void 0===w?void 0:w.isPrimaryBusinessLocation,isThereDivingBoards:null===e||void 0===e||null===(L=e.property)||void 0===L?void 0:L.isThereDivingBoards,isThereSwimming:null===e||void 0===e||null===(R=e.property)||void 0===R?void 0:R.isThereSwimming,lastName:null===e||void 0===e||null===(k=e.basics)||void 0===k||null===(B=k.businessInformation)||void 0===B?void 0:B.lastName,legalEntity:null===e||void 0===e||null===(D=e.business)||void 0===D?void 0:D.legalEntity,naics:null===e||void 0===e||null===(M=e.basics)||void 0===M||null===(U=M.properties)||void 0===U?void 0:U.naics,overallSales:null===e||void 0===e||null===(Y=e.business)||void 0===Y?void 0:Y.overallSales,partTimeEmployees:null===e||void 0===e||null===(q=e.employees)||void 0===q?void 0:q.partTimeEmployees,phone:null===e||void 0===e||null===(F=e.basics)||void 0===F||null===(V=F.businessInformation)||void 0===V||null===(H=V.business)||void 0===H?void 0:H.phone,policySent:!1,product:null===e||void 0===e||null===(W=e.basics)||void 0===W?void 0:W.productQuoteName,productCategory:null===e||void 0===e||null===(G=e.basics)||void 0===G?void 0:G.productCategory,productQuote:"".concat(null===e||void 0===e||null===(z=e.basics)||void 0===z?void 0:z.productQuote),salesMerchandise:null===e||void 0===e||null===(Q=e.business)||void 0===Q?void 0:Q.salesMerchandise,segment:null===e||void 0===e||null===(K=e.basics)||void 0===K||null===(J=K.properties)||void 0===J?void 0:J.segment,startBusinessAtYear:null===e||void 0===e||null===($=e.employees)||void 0===$?void 0:$.startBusinessAtYear,state:null===e||void 0===e||null===(X=e.basics)||void 0===X||null===(Z=X.businessInformation)||void 0===Z||null===(ee=Z.business)||void 0===ee||null===(te=ee.location)||void 0===te?void 0:te.state,stories:null===e||void 0===e||null===(ne=e.property)||void 0===ne?void 0:ne.stories,totalBuildingSquareFeet:null===e||void 0===e||null===(ae=e.property)||void 0===ae?void 0:ae.totalBuildingSquareFeet,website:null===e||void 0===e||null===(re=e.basics)||void 0===re||null===(ie=re.businessInformation)||void 0===ie||null===(ce=ie.business)||void 0===ce?void 0:ce.website,yearBuilding:null===e||void 0===e||null===(se=e.property)||void 0===se?void 0:se.yearBuilding,yearsOfExperience:null===e||void 0===e||null===(oe=e.business)||void 0===oe?void 0:oe.yearsOfExperience,zip:null===e||void 0===e||null===(le=e.basics)||void 0===le||null===(ue=le.businessInformation)||void 0===ue||null===(de=ue.business)||void 0===de||null===(be=de.location)||void 0===be?void 0:be.zip}},z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.map((function(e){var t=e.description,n=e.name,a=e.productId,r=e.skus;return{description:t.en_US,id:a,period:"($".concat(W(r[0].promoPrice),"-").concat(W(r[0].price),"/mo)"),template:{allowed:H(n.en_US),name:F(n.en_US)},title:n.en_US}}))},Q=function(e){var t={basics:{applicationId:e.id,businessCategoryId:e.businessCategoryId,businessInformation:{business:{email:e.email,location:{address:e.address,addressApt:e.addressApt,city:e.city,state:e.state,zip:e.zip},phone:e.phone,website:e.website},firstName:e.firstName,lastName:e.lastName},businessSearch:e.businessSearch,product:e.product,productQuote:Number(e.productQuote),properties:{naics:e.naics,segment:e.segment}},business:{hasAutoPolicy:e.hasAutoPolicy,hasSellProductsUnderOwnBrand:e.hasSellProductsUnderOwnBrand,hasStoredCustomerInformation:e.hasStoredCustomerInformation,legalEntity:e.legalEntity,overallSales:e.overallSales,salesMerchandise:e.salesMerchandise,yearsOfExperience:e.yearsOfExperience},employees:{annualPayrollForEmployees:e.annualPayrollForEmployees,annualPayrollForOwner:e.annualPayrollForOwner,businessOperatesYearRound:e.businessOperatesYearRound,estimatedAnnualGrossRevenue:e.estimatedAnnualGrossRevenue,fein:e.fein,hasFein:e.hasFein,partTimeEmployees:e.partTimeEmployees,startBusinessAtYear:e.startBusinessAtYear},property:{buildingSquareFeetOccupied:e.buildingSquareFeetOccupied,doOwnBuildingAtAddress:e.doOwnBuildingAtAddress,isPrimaryBusinessLocation:e.isPrimaryBusinessLocation,isThereDivingBoards:e.isThereDivingBoards,isThereSwimming:e.isThereSwimming,stories:e.stories,totalBuildingSquareFeet:e.totalBuildingSquareFeet,yearBuilding:e.yearBuilding}};for(var n in t){Object.values(t[n]).some(Boolean)||delete t[n]}return t},K=localStorage;function J(e){return K.getItem(e)}var $={getItem:J,itemExist:function(e){return!!K.getItem(e)},removeItem:function(e){K.removeItem(e)},setItem:function(e,t){K.setItem(e,t)}},X="raylife-application-form",Z="raylife-application-id",ee="raylife-back-to-edit",te="basic-step-clicked",ne="raylife-contextual-message",ae="raylife-product-id",re="raylife-selected-product",ie=n(11),ce=n(14),se="DESKTOP",oe="PHONE",le="TABLET",ue="get-in-touch",de="hang-tight",be="",me="selected-quote";function pe(e){var t,n=p.BREAKPOINTS,a=Object.entries(n).sort((function(e,t){return t[1]-e[1]})),r=se,i=Object(ce.a)(a);try{for(i.s();!(t=i.n()).done;){var c=Object(L.a)(t.value,2),s=c[0];e<=c[1]&&(r=s)}}catch(o){i.e(o)}finally{i.f()}return r}function je(){var e=window,t=e.innerHeight,n=e.innerWidth,a=pe(n),r=767.98,i=992,c=n<i&&n>r;return{device:{isDesktop:a===se,isMobile:a===oe&&n<=r,isTablet:a===le||c},deviceSize:a,height:t,width:n}}function fe(){var e=Object(o.useState)(je()),t=Object(L.a)(e,2),n=t[0],a=t[1];return Object(o.useEffect)((function(){var e=function(){a(je())};return window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}}),[]),n}var ve="raylife-tip-container-primary",Oe="raylife-tip-container-dismiss-primary",he=n(70),xe=n.n(he),Se=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_LIFERAY_API,ye=void 0===Se?window.location.origin:Se,Ee=xe.a.create({baseURL:ye,headers:{"x-csrf-token":p.authToken}});function ge(e,t){return Ee.get("/o/headless-admin-taxonomy/v1.0/taxonomy-vocabularies/".concat(e,"/taxonomy-categories?filter=contains(name, '").concat(t,"')"))}var Ne=n(3),Ie=n.n(Ne),_e=n(8),Ae=n(25),Ce=n.n(Ae);function Te(e){return[function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;window.dispatchEvent(new CustomEvent(n,{bubbles:!0,composed:!0,detail:{data:t}}))}]}var Pe={off:"hidden",on:"scroll"},we={off:"none",on:"auto"},Le=function(e){var t=e.disabled,n=e.element;Object(o.useEffect)((function(){if(n)return n.style["touch-action"]=t?we.off:we.on,n.style.overflowY=t?Pe.off:Pe.on,function(){n.style["touch-action"]=Pe.on,n.style.overflowY=Pe.on}}),[t])},Re="modal-backdrop",ke=function(e){var t=e.backdropLight,n=void 0!==t&&t,a=e.closeable,r=void 0===a||a,i=e.children,c=e.footer,s=e.onClose,l=void 0===s?function(){}:s,u=e.size,d=void 0===u?"medium":u,b=e.show;return Le({disabled:b,element:document.body}),Object(o.useEffect)((function(){var e=function(e){var t=e.path||e.composedPath&&e.composedPath()||[{}];Object(L.a)(t,1)[0].id===Re&&l()};return b&&(document.addEventListener("mousedown",e),document.addEventListener("touchstart",e)),function(){document.removeEventListener("mousedown",e),document.removeEventListener("touchstart",e)}}),[b]),b?Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("div",{className:Ie()("h-100 w-100 overflow-auto position-fixed backdrop",{"d-block":b,"d-none":!b,dark:!n,light:n}),id:Re}),Object(v.jsxs)("div",{className:Ie()("align-items-stretch bg-neutral-0 d-flex flex-column m-auto modal-content-body position-fixed pb-4 pt-3 px-3 rounded",{"modal-large":"large"===d,"modal-medium":"medium"===d,"modal-small":"small"===d,"modal-small-mobile":"small-mobile"===d}),children:[r&&Object(v.jsx)("div",{className:"align-items-center border-bottom-0 d-flex justify-content-end p-0",children:Object(v.jsx)("div",{className:"close-modal",onClick:l,children:Object(v.jsx)(m.a,{symbol:"times"})})}),i,c]})]}):null},Be=function(e){var t=e.isMobile,n=e.onClose,a=e.webContentModal;return Object(v.jsxs)(ke,{backdropLight:t,closeable:!1,onClose:n,show:a.show,size:"small-mobile",children:[Object(v.jsx)("div",{className:"tip-container-modal",dangerouslySetInnerHTML:{__html:a.html}}),Object(v.jsx)("div",{className:"d-flex justify-content-center",children:Object(v.jsx)("button",{className:"btn btn-inverted btn-rounded btn-style-primary shadow-none text-uppercase",onClick:n,children:"Dismiss"})})]})};function De(){var e=Object(o.useContext)(Hn),t=e.dispatch,n=e.state.selectedTrigger,a=function(e){return e===n},r=function(e){return t({payload:e,type:Fn.SET_SELECTED_TRIGGER})};return{clearState:function(){return r("")},isSelected:a,selectedTrigger:n,updateState:function(e){return r(a(e)?"":e)}}}var Me="o/headless-delivery/v1.0";function Ue(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return Ee.get("".concat(Me,"/sites/").concat(e,"/content-templates").concat(t))}function Ye(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return Ee.get("".concat(Me,"/structured-content-folders/").concat(e,"/structured-contents").concat(t))}function qe(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return Ee.get("".concat(Me,"/sites/").concat(e,"/structured-content-folders").concat(t))}var Fe=p.ThemeDisplay.getSiteGroupId(),Ve=Object(o.createContext)(),He=function(){var e=Object(w.a)(B.a.mark((function e(t){var n,a,r;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t();case 3:return n=e.sent,a=Object(L.a)(n.data.items,1),r=a[0],e.abrupt("return",null===r||void 0===r?void 0:r.id);case 9:return e.prev=9,e.t0=e.catch(0),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),We=function(e){var t=e.children,n=Object(o.useContext)(Hn).state.dimensions.deviceSize,a=Te(),r=Object(L.a)(a,1)[0],i=De(),c=i.clearState,s=i.selectedTrigger,l=Object(o.useState)(),u=Object(L.a)(l,2),d=u[0],b=u[1],m=function(e){var t=Object(o.useRef)();return Object(o.useEffect)((function(){t.current=e}),[e]),t.current}(n),p=Object(o.useState)({html:"",show:!1}),j=Object(L.a)(p,2),f=j[0],O=j[1],h=n!==se,x=function(){var e=Object(w.a)(B.a.mark((function e(){var t,n,a,r,i,c;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.allSettled([He((function(){return qe(Fe,"?filter=name eq '".concat("Tip","'"))})),He((function(){return Ue(Fe,"?filter=contains(name, '".concat("Tip","')"))}))]);case 2:if(t=e.sent,n=Object(L.a)(t,2),a=n[0].value,r=n[1].value,a){e.next=8;break}return e.abrupt("return",console.warn("Raylife TIP Folder not found"));case 8:if(r){e.next=10;break}return e.abrupt("return",console.warn("Raylife TIP Template not found"));case 10:return e.next=12,Ye(a);case 12:i=e.sent,c=i.data,b({structuredContents:c.items,tipFolderId:a,tipTemplateId:r});case 15:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),S=function(e){var t=document.createElement("div");t.innerHTML=e,t.querySelector("#dismiss").remove(),O({html:t.innerHTML,show:!0})},y=Object(o.useCallback)(function(){var e=Object(w.a)(B.a.mark((function e(t,n){var a,i,c;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!h){e.next=8;break}if(null===(a=d.structuredContents.find((function(e){return e.friendlyUrlPath===t.templateName})))||void 0===a||!a.id){e.next=8;break}return e.next=5,s=a.id,o=d.tipTemplateId,Ee.get("".concat(Me,"/structured-contents/").concat(s,"/rendered-content/").concat(o));case 5:return i=e.sent,c=i.data,e.abrupt("return",S(c));case 8:r(t,n);case 9:case"end":return e.stop()}var s,o}),e)})));return function(t,n){return e.apply(this,arguments)}}(),[h,d]),E=Object(o.useCallback)((function(){document.getElementById("tip").classList.add("hide"),O({html:"",show:!1}),c()}),[c]);return Object(o.useEffect)((function(){s&&n!==m&&E()}),[n,s,m,E]),Object(o.useEffect)((function(){h&&!d&&x()}),[h,d]),Object(v.jsxs)(Ve.Provider,{value:[d,y],children:[Object(v.jsx)(Be,{isMobile:n===oe,onClose:E,webContentModal:f}),t]})};function Ge(e){var t=e.callback,n=e.event,a=e.label,r=void 0===a?"More Info":a,i=e.selected,c=e.value,s=Object(o.useContext)(Ve),l=Object(L.a)(s,2)[1];return Object(v.jsx)(Ce.a,{className:Ie()("btn-info-panel flex-shrink-0 rounded-sm m-0 p-0 justify-content-center ms-auto",{"label-inverse-primary":i,"label-tonal-primary":!i}),onClick:function(){l(Object(R.a)(Object(R.a)({},c),{},{hide:i}),n),t()},children:Object(v.jsxs)("div",{className:"align-items-center d-flex justify-content-center m-0 px-1 px-lg-2 px-sm-2 py-1 py-lg-1 py-sm-1",children:[Object(v.jsx)("span",{className:"flex-shrink-0 p-0 text-center text-paragraph-sm",children:r}),Object(v.jsx)("span",{className:"inline-item inline-item-after",children:Object(v.jsx)(m.a,{symbol:i?"question-circle-full":"question-circle"})})]})})}var ze=n(12),Qe=n.n(ze);function Ke(e){var t=e.children;return Object(v.jsx)(Ce.a,{className:"label-tonal-danger mt-1 mx-0 p-0 rounded w-100",children:Object(v.jsxs)("div",{className:"align-items-center badge d-flex m-0 warning",children:[Object(v.jsx)("span",{className:"inline-item inline-item-before",children:Object(v.jsx)(m.a,{className:"c-ml-2 c-mr-2",symbol:"exclamation-full"})}),Object(v.jsx)("span",{className:"font-weight-normal text-paragraph",children:t})]})})}function Je(e){var t,n=e.children,a=e.className,r=e.error;return Object(v.jsxs)("div",{className:Ie()("input-area d-block",(t={},Object(ie.a)(t,a,a),Object(ie.a)(t,"has-error",r),t)),children:[n,(null===r||void 0===r?void 0:r.message)&&Object(v.jsx)(Ke,{children:r.message})]})}function $e(e){var t=e.children,n=e.className,a=e.label,r=e.name,i=e.required,c=void 0!==i&&i;return Object(v.jsxs)("label",{className:"align-items-center",htmlFor:r,children:[Object(v.jsx)("h6",{className:Ie()("d-inline-block font-weight-bolder",n,{required:c}),children:a}),t]})}var Xe=["className","error","label","name","renderActions","required"],Ze=l.a.forwardRef((function(e,t){var n=e.className,a=e.error,r=e.label,i=e.name,c=e.renderActions,s=e.required,o=void 0!==s&&s,l=Object(_e.a)(e,Xe);return Object(v.jsxs)(Je,{className:n,error:a,children:[r&&Object(v.jsx)($e,{label:r,name:i,required:o,children:c}),Object(v.jsx)(ze.ClayInput,Object(R.a)(Object(R.a)({},l),{},{id:i,name:i,ref:t,required:o}))]})})),et=["name","label","rules","control","moreInfoProps","inputProps"];function tt(e){var t=e.name,n=e.label,a=e.rules,r=e.control,i=e.moreInfoProps,c=void 0===i?void 0:i,s=e.inputProps,o=void 0===s?{}:s,l=Object(_e.a)(e,et);return Object(v.jsx)(C.a,Object(R.a)({control:r,defaultValue:"",name:t,render:function(e){var t=e.field,r=e.fieldState;return Object(v.jsx)(Ze,Object(R.a)(Object(R.a)({},t),{},{error:r.error,label:n,renderActions:c&&Object(v.jsx)(Ge,Object(R.a)({},c)),required:null===a||void 0===a?void 0:a.required},o))},rules:a},l))}var nt=/^[\w-.]+@([\w-]+\.)+[\w-]{2,4}$/g,at=/^\d{2}-\d{7}$/g,rt=/[0-9]/g,it=/^(?:100(?:\.00?)?|\d?\d(?:\.\d\d?)?)?%$/g,ct=/\((\d{3})\)\s\d{3}-\d{4}/g,st=/^\w{2}$/g,ot=/[^A-Za-z0-9 ]/g,lt=/[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b([-a-zA-Z0-9()@:%_+.~#?&//=]*)/g,ut=/^\d{4}$/g,dt=/[0-9]{5}/g,bt=["rules"];function mt(e){var t=e.rules,n=Object(_e.a)(e,bt);return Object(v.jsx)(tt,Object(R.a)(Object(R.a)({},n),{},{inputProps:{className:"d-flex mb-5 mr-0"},rules:Object(R.a)({pattern:{message:"Must be a valid email address.",value:nt}},t)}))}var pt=["rules"];function jt(e){var t=e.rules,n=Object(_e.a)(e,pt);return Object(v.jsx)(tt,Object(R.a)(Object(R.a)({},n),{},{inputProps:{className:"d-flex mb-5 mr-0"},rules:Object(R.a)({pattern:{message:"Should be a valid website address.",value:lt}},t)}))}var ft=n(71),vt=["allowNegative","className","error","label","name","renderActions","required"],Ot=l.a.forwardRef((function(e,t){var n=e.allowNegative,a=void 0!==n&&n,r=e.className,i=e.error,c=e.label,s=e.name,o=e.renderActions,l=e.required,u=void 0!==l&&l,d=Object(_e.a)(e,vt);return Object(v.jsxs)(Je,{className:r,error:i,children:[c&&Object(v.jsx)($e,{label:c,name:s,required:u,children:o}),Object(v.jsx)(ft.a,Object(R.a)(Object(R.a)({},d),{},{allowNegative:a,className:"form-control input w-100",id:s,name:s,ref:t,required:u}))]})})),ht=["name","label","rules","control","moreInfoProps","inputProps","renderInput"];function xt(e){var t=e.name,n=e.label,a=e.rules,r=e.control,i=e.moreInfoProps,c=void 0===i?void 0:i,s=e.inputProps,o=void 0===s?{}:s,l=e.renderInput,u=void 0===l||l,d=Object(_e.a)(e,ht),b=u?a:{required:!1};return Object(v.jsx)(C.a,Object(R.a)({control:r,defaultValue:"",name:t,render:function(e){var t=e.field,a=e.fieldState;return Object(v.jsx)(Ot,Object(R.a)(Object(R.a)({className:"".concat(Ie()({"d-none":!u})," mb-5"),error:a.error,label:n,renderActions:c&&Object(v.jsx)(Ge,Object(R.a)({},c)),required:null===b||void 0===b?void 0:b.required},t),o))},rules:b},d))}var St=["rules","inputProps"];function yt(e){var t=e.rules,n=void 0===t?{}:t,a=e.inputProps,r=void 0===a?{}:a,i=Object(_e.a)(e,St);return Object(v.jsx)(xt,Object(R.a)(Object(R.a)({},i),{},{inputProps:Object(R.a)(Object(R.a)({className:"d-flex mb-5 mr-0",format:"(###) ###-####",mask:"_"},r),{},{placeholder:"(___) ___-____"}),rules:Object(R.a)({pattern:{message:"Must be a valid phone number.",value:ct}},n)}))}var Et=function(){var e=Object(o.useContext)(Hn),t=e.dispatch,n=e.state,a=n.dimensions.device.isMobile,r=n.activeMobileSubSection,i=n.selectedStep.mobileSubSections,c=void 0===i?[]:i,s={activeMobileSubSection:r,isMobile:a};return{getMobileSubSection:Object(o.useCallback)((function(e){return c.find((function(t){return t.title===e}))}),[c]),mobileContainerProps:s,nextStep:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:500;setTimeout((function(){t({payload:{nextStep:!0},type:Fn.SET_MOBILE_SUBSECTION_ACTIVE})}),e)}}},gt="raylife-form-input",Nt=function(){var e=Object(C.d)(),t=e.register,n=e.setValue;return Object(o.useEffect)((function(){t(gt)}),[t]),function(){n(gt,"",{shouldValidate:!0})}},It=function(e){var t=e.activeMobileSubSection,n=void 0===t?{}:t,a=e.children,r=e.isMobile,i=e.mobileSubSection,c=void 0===i?{}:i,s=e.hasAddress,l=void 0===s?"":s,u=Nt(),d=c.hideInputLabel,b=c.title===n.title;return Object(o.useEffect)((function(){r&&b&&u()}),[r,b]),r?b?Object(v.jsxs)("div",{className:"flex flex-column",children:[Object(v.jsx)("h2",{className:"mx-auto text-center text-dark",children:"".concat(c.title," ").concat(l)}),Object(v.jsx)("div",{className:Ie()("mt-4",{"hide-input-label":d}),children:a})]}):null:a},_t=["rules","inputProps"];function At(e){var t=e.rules,n=void 0===t?{}:t,a=e.inputProps,r=void 0===a?{}:a,i=Object(_e.a)(e,_t);return Object(v.jsx)(xt,Object(R.a)(Object(R.a)({},i),{},{inputProps:Object(R.a)({className:"zip",format:"#####",mask:"_"},r),rules:Object(R.a)({pattern:{message:"Must be a five digit number.",value:dt}},n)}))}var Ct=["children","className","error","label","name","renderActions","required"],Tt=l.a.forwardRef((function(e,t){var n=e.children,a=e.className,r=e.error,i=e.label,c=e.name,s=e.renderActions,o=e.required,l=void 0!==o&&o,u=Object(_e.a)(e,Ct);return Object(v.jsxs)(Je,{className:a,error:r,children:[i&&Object(v.jsx)($e,{label:i,name:c,required:l,children:s}),Object(v.jsx)("select",Object(R.a)(Object(R.a)({},u),{},{className:"form-control",id:c,name:c,ref:t,required:l,children:n}))]})})),Pt=["name","label","control","rules","children","moreInfoProps","inputProps","defaultValue"];function wt(e){var t=e.name,n=e.label,a=e.control,r=e.rules,i=e.children,c=e.moreInfoProps,s=void 0===c?void 0:c,o=e.inputProps,l=void 0===o?{}:o,u=e.defaultValue,d=void 0===u?"":u,b=Object(_e.a)(e,Pt);return Object(v.jsx)(C.a,Object(R.a)({control:a,defaultValue:d,name:t,render:function(e){var t=e.field,a=e.fieldState;return Object(v.jsx)(Tt,Object(R.a)(Object(R.a)(Object(R.a)({},t),{},{error:a.error,label:n,renderActions:s&&Object(v.jsx)(Ge,Object(R.a)({},s)),required:null===r||void 0===r?void 0:r.required},l),{},{children:i}))},rules:r},b))}var Lt=[{abbreviation:"AL",name:"Alabama"},{abbreviation:"AK",name:"Alaska"},{abbreviation:"AS",name:"American Samoa"},{abbreviation:"AZ",name:"Arizona"},{abbreviation:"AR",name:"Arkansas"},{abbreviation:"CA",name:"California"},{abbreviation:"CO",name:"Colorado"},{abbreviation:"CT",name:"Connecticut"},{abbreviation:"DE",name:"Delaware"},{abbreviation:"DC",name:"District Of Columbia"},{abbreviation:"FM",name:"Federated States Of Micronesia"},{abbreviation:"FL",name:"Florida"},{abbreviation:"GA",name:"Georgia"},{abbreviation:"GU",name:"Guam"},{abbreviation:"HI",name:"Hawaii"},{abbreviation:"ID",name:"Idaho"},{abbreviation:"IL",name:"Illinois"},{abbreviation:"IN",name:"Indiana"},{abbreviation:"IA",name:"Iowa"},{abbreviation:"KS",name:"Kansas"},{abbreviation:"KY",name:"Kentucky"},{abbreviation:"LA",name:"Louisiana"},{abbreviation:"ME",name:"Maine"},{abbreviation:"MH",name:"Marshall Islands"},{abbreviation:"MD",name:"Maryland"},{abbreviation:"MA",name:"Massachusetts"},{abbreviation:"MI",name:"Michigan"},{abbreviation:"MN",name:"Minnesota"},{abbreviation:"MS",name:"Mississippi"},{abbreviation:"MO",name:"Missouri"},{abbreviation:"MT",name:"Montana"},{abbreviation:"NE",name:"Nebraska"},{abbreviation:"NV",name:"Nevada"},{abbreviation:"NH",name:"New Hampshire"},{abbreviation:"NJ",name:"New Jersey"},{abbreviation:"NM",name:"New Mexico"},{abbreviation:"NY",name:"New York"},{abbreviation:"NC",name:"North Carolina"},{abbreviation:"ND",name:"North Dakota"},{abbreviation:"MP",name:"Northern Mariana Islands"},{abbreviation:"OH",name:"Ohio"},{abbreviation:"OK",name:"Oklahoma"},{abbreviation:"OR",name:"Oregon"},{abbreviation:"PW",name:"Palau"},{abbreviation:"PA",name:"Pennsylvania"},{abbreviation:"PR",name:"Puerto Rico"},{abbreviation:"RI",name:"Rhode Island"},{abbreviation:"SC",name:"South Carolina"},{abbreviation:"SD",name:"South Dakota"},{abbreviation:"TN",name:"Tennessee"},{abbreviation:"TX",name:"Texas"},{abbreviation:"UT",name:"Utah"},{abbreviation:"VT",name:"Vermont"},{abbreviation:"VI",name:"Virgin Islands"},{abbreviation:"VA",name:"Virginia"},{abbreviation:"WA",name:"Washington"},{abbreviation:"WV",name:"West Virginia"},{abbreviation:"WI",name:"Wisconsin"},{abbreviation:"WY",name:"Wyoming"}],Rt=[{name:"Association"},{name:"Corporation"},{name:"Individual/Sole Proprietor"},{name:"Joint Venture"},{name:"Limited Liability Company (LLC)"},{name:"Limited Liability Partnership (LLP)"},{name:"Partnership"},{name:"Professional Corporation (PC)"}],kt=function(){return new Promise((function(e){e(Rt)}))},Bt=function(){return new Promise((function(e){e(Lt)}))};function Dt(){var e=Object(o.useState)(),t=Object(L.a)(e,2),n=t[0],a=t[1],r=Object(o.useState)(),i=Object(L.a)(r,2),c=i[0],s=i[1];Object(o.useEffect)((function(){l()}),[]);var l=function(){var e=Object(w.a)(B.a.mark((function e(){var t;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Bt();case 3:t=e.sent,a(t),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),console.warn(e.t0),s(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();return{isError:c,isLoading:!n&&!c,setAutoComplete:function(e,t){try{var n=E(e),a=y();n.addListener("place_changed",(function(){a.close();var e=g(n);t(e)}))}catch(c){console.warn(c)}},states:n||[]}}var Mt=["rules"];function Ut(e){var t=e.rules,n=Object(_e.a)(e,Mt),a=Dt().states;return Object(v.jsx)(wt,Object(R.a)(Object(R.a)({},n),{},{defaultValue:"AL",rules:Object(R.a)({pattern:{message:"Should be a two letter word.",value:st}},t),children:a.map((function(e){var t=e.abbreviation;return Object(v.jsx)("option",{value:t,children:t},t)}))}))}var Yt=function(e){return"basics.businessInformation.business.location.".concat(e)};function qt(){var e=Object(o.useRef)(),t=Dt().setAutoComplete,n=Object(C.d)(),a=n.control,r=n.register,i=n.setValue;Object(o.useEffect)((function(){e.current&&t(e.current,c)}),[e]);var c=function(e){i(Yt("city"),e.city,{shouldValidate:!0}),i(Yt("state"),e.state),i(Yt("zip"),e.zip),i(Yt("address"),"".concat(e.streetNumber," ").concat(e.street))};return Object(v.jsxs)("div",{className:"d-flex flex-column",children:[Object(v.jsxs)("div",{className:"d-flex flex-wrap justify-content-between",children:[Object(v.jsx)(tt,{control:a,inputProps:{className:"col-sm-12 col-md-8 col-lg-8 pr-lg-4 pr-md-4 p-0",placeholder:"Street address",ref:e},label:kn.PHYSICAL_BUSINESS_ADDRESS,name:Yt("address"),rules:{required:"Business address is required."}}),Object(v.jsx)(Ze,Object(R.a)(Object(R.a)({},r(Yt("addressApt"))),{},{className:"col-lg-4 col-md-4 col-sm-12 p-0",label:"\xa0",placeholder:"Apt/Suite (optional)"}))]}),Object(v.jsxs)("div",{className:"d-flex flex-row flex-wrap justify-content-between my-3 my-lg-5 my-md-5 my-sm-3",children:[Object(v.jsx)(tt,{control:a,inputProps:{className:"col-sm-8 col-md-5 col-lg-5 pr-sm-4 pr-xs-0 p-0"},label:kn.CITY,name:Yt("city"),rules:{required:"City is required."}}),Object(v.jsx)(Ut,{control:a,inputProps:{className:"col-sm-4 col-md-3 col-lg-3 pr-md-4 pr-lg-4 p-0 mt-3 mt-sm-0 mt-md-0 mt-lg-0"},label:kn.STATE,name:Yt("state"),rules:{required:"This field is required."}}),Object(v.jsx)(At,{control:a,inputProps:{className:"col-sm-12 col-md-4 col-lg-4 mt-md-0 mt-sm-3 pt-xs-3 p-0 mt-3 mt-md-0 mt-lg-0"},label:kn.ZIP,name:Yt("zip"),rules:{required:"ZIP is required."}})]})]})}var Ft=function(e){return"basics.businessInformation.".concat(e)};var Vt=n(10),Ht=n.n(Vt),Wt=["children","error","isMobileDevice","label","name","renderActions","required"],Gt=l.a.forwardRef((function(e,t){var n=e.children,a=e.error,r=e.isMobileDevice,i=void 0!==r&&r,c=e.label,s=e.name,o=e.renderActions,l=e.required,u=void 0!==l&&l,d=Object(_e.a)(e,Wt);return Object(v.jsxs)(v.Fragment,{children:[c&&Object(v.jsx)("div",{className:"mb-4 mb-lg-2 mb-md-2 mb-sm-4",children:Object(v.jsx)($e,{className:i?"h4 text-center":null,label:c,name:s,required:u,children:o})}),Object(v.jsxs)("div",{className:"d-flex flex-row position-relative",children:[Object(v.jsxs)(Je,{className:"col px-0",error:a,children:[Object(v.jsx)(ze.ClayInput,Object(R.a)(Object(R.a)({},d),{},{id:s,maxLength:255,name:s,onKeyPress:function(e){"Enter"===e.key&&e.preventDefault()},ref:t,required:u})),i&&Object(v.jsx)(m.a,{className:"bussiness-type-search-icon position-absolute text-neutral-6",symbol:"search"})]}),n]})]})}));var zt={OWN_BRAND_LABEL:["453910","722513","424930"],PERCENT_SALES:["453910","424930"]},Qt={OVERALL_SALES:["Retail"]};function Kt(e){return zt.PERCENT_SALES.includes(e)}function Jt(e){return zt.OWN_BRAND_LABEL.includes(e)}function $t(e){return Qt.OVERALL_SALES.includes(e)}function Xt(e){return"habitational"===e}function Zt(){return{applicationId:new URLSearchParams(window.location.search).get("applicationId"),backToEdit:$.getItem(ee)&&JSON.parse($.getItem(ee))}}function en(){var e=Object(C.e)(),t=Te(ve),n=Object(L.a)(t,1)[0],a=Object(o.useContext)(Hn),r=a.dispatch,i=a.state,c=Zt(),s=c.applicationId,l=c.backToEdit,u=i.percentage,d=i.steps.find((function(e){return e.active})),b=s||l,m=function(e){r({payload:e,type:Fn.SET_PERCENTAGE})},p=Object(C.d)().control._fields;Object(o.useEffect)((function(){f()}),[e]),Object(o.useEffect)((function(){n({hide:!0})}),[d.section]),Object(o.useEffect)((function(){b&&j()}),[b]);var j=function(){var t,n=Object.keys(e).filter((function(e){return"raylife-form-input"!==e}));switch(null===(t=n[n.length-1])||void 0===t?void 0:t.toLowerCase()){case Bn.BUSINESS.section:O({basics:100,business:100});break;case Bn.EMPLOYEES.section:O({basics:100,business:100,employees:100});break;case Bn.PROPERTY.section:O({basics:100,business:100,employees:100,property:100})}},f=function(){var t,n;switch(d.section){case Bn.BASICS_BUSINESS_TYPE.section:var a,r,i;return b?d.subsection===Bn.BASICS_BUSINESS_INFORMATION.subsection?v(U(M((null===p||void 0===p?void 0:p.basics)||{}),Rn.BASICS-1),Bn.BASICS_BUSINESS_TYPE.section):(!($.getItem(te)||null!==e&&void 0!==e&&null!==(a=e.basics)&&void 0!==a&&a.businessSearch)||null!==e&&void 0!==e&&null!==(r=e.basics)&&void 0!==r&&r.businessCategoryId)&&null!==e&&void 0!==e&&null!==(i=e.basics)&&void 0!==i&&i.businessCategoryId?v(100,Bn.BASICS_BUSINESS_TYPE.section):v(u.basics,Bn.BASICS_BUSINESS_TYPE.section):v(U(M((null===p||void 0===p?void 0:p.basics)||{}),Rn.BASICS),Bn.BASICS_BUSINESS_TYPE.section);case Bn.BUSINESS.section:return v(U(M((null===p||void 0===p?void 0:p.business)||{}),function(e){var t=4;return zt.OWN_BRAND_LABEL.includes(null===e||void 0===e?void 0:e.naics)&&t++,zt.PERCENT_SALES.includes(null===e||void 0===e?void 0:e.naics)&&t++,Qt.OVERALL_SALES.includes(null===e||void 0===e?void 0:e.segment)&&t++,t}(null===e||void 0===e||null===(t=e.basics)||void 0===t?void 0:t.properties)),Bn.BUSINESS.section);case Bn.EMPLOYEES.section:var c=Rn.EMPLOYEES;return"true"===(null===e||void 0===e||null===(n=e.employees)||void 0===n?void 0:n.hasFein)&&c++,v(U(M((null===p||void 0===p?void 0:p.employees)||{}),c),Bn.EMPLOYEES.section);case Bn.PROPERTY.section:return v(U(M((null===p||void 0===p?void 0:p.property)||{}),function(e){var t,n,a,r=Rn.PROPERTY;return"habitational"===(null===e||void 0===e||null===(t=e.basics)||void 0===t||null===(n=t.properties)||void 0===n?void 0:n.segment.toLowerCase())&&r++,"true"===(null===e||void 0===e||null===(a=e.property)||void 0===a?void 0:a.isThereSwimming)&&r++,r}(e)),Bn.PROPERTY.section);default:return v(0,Bn.BASICS_BUSINESS_TYPE.section)}},v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Bn.BASICS_BUSINESS_TYPE.section;m(Object(R.a)(Object(R.a)({},u),{},Object(ie.a)({},t,e)))},O=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{basics:0,business:0,employees:0,property:0};m(Object(R.a)(Object(R.a)({},u),e))};return{selectedStep:d,setPercentage:v,setSection:function(e){r({payload:e,type:Fn.SET_STEP_ACTIVE})}}}var tn=n(38),nn=n.n(tn),an=["description","label","name","onChange","renderActions","selected","sideLabel","value"],rn=Object(o.forwardRef)((function(e,t){var n=e.description,a=e.label,r=e.name,i=e.onChange,c=e.renderActions,s=e.selected,o=void 0!==s&&s,l=e.sideLabel,u=e.value,d=Object(_e.a)(e,an);return Object(v.jsxs)(nn.a,{className:Ie()("align-items-baseline d-flex flex-row mb-3 py-2 py-sm-3 px-sm-3 px-2 radio-card rounded user-select-auto",{"bg-brand-primary-lighten-5 border border-primary text-brand-primary":o,"card-outlined":!o}),onClick:function(){return i({target:{value:u}})},selected:o,children:[Object(v.jsx)(ze.ClayRadio,Object(R.a)(Object(R.a)({},d),{},{checked:o,inline:!0,name:r,onChange:function(){return i({target:{value:u}})},ref:t,value:u})),Object(v.jsxs)("div",{className:"d-flex flex-wrap p-0",children:[Object(v.jsxs)("div",{className:"align-items-start align-self-start col-12 d-flex flex-wrap justify-content-between mb-0 p-0",children:[Object(v.jsxs)("label",{className:Ie()("d-flex flex-wrap radio-card-label flex-lg-nowrap font-weight-bolder text-paragraph-lg col-8 col-sm-8 col-md-10 col-lg-auto p-0 ",{"text-brand-primary":o}),htmlFor:r,children:[Object(v.jsxs)("p",{className:"col-12 col-lg-auto col-md-auto col-sm-12 p-0",children:[a," \xa0"]}),Object(v.jsx)("small",{className:"col-12 col-lg-auto col-md-5 col-sm-12 font-weight-normal justify-content-md-end mb-1 ml-0 p-0 text-neutral-10 text-paragraph-lg",children:l})]}),Object(v.jsx)("div",{className:"col-4 col-lg-auto col-md-auto col-sm-4 d-flex justify-content-end p-0",children:c})]}),Object(v.jsx)("p",{className:"col-12 p-0 text-neutral-8 text-paragraph-sm",children:n})]})]})})),cn=function(e){var t,n=e.businessTypes,a=void 0===n?[]:n,r=e.form,i=e.setNewSelectedProduct,c=Object(C.d)(),s=c.control,l=c.setValue,u=a.find((function(e){var t,n=e.id;return(null===r||void 0===r||null===(t=r.basics)||void 0===t?void 0:t.businessCategoryId)===n}));Object(o.useEffect)((function(){var e;null!==r&&void 0!==r&&null!==(e=r.basics)&&void 0!==e&&e.businessCategoryId&&(d(),l("basics.productCategory",null===u||void 0===u?void 0:u.name),i(r.basics.businessCategoryId))}),[null===r||void 0===r||null===(t=r.basics)||void 0===t?void 0:t.businessCategoryId,u]);var d=function(){var e,t,n,a=(null===u||void 0===u?void 0:u.taxonomyCategoryProperties)||[];a&&a.length&&(l("basics.properties.businessClassCode",null===(e=a.find((function(e){return"BCC"===e.key})))||void 0===e?void 0:e.value),l("basics.properties.naics",null===(t=a.find((function(e){return"NAICS"===e.key})))||void 0===t?void 0:t.value),l("basics.properties.segment",null===(n=a.find((function(e){return"Segment"===e.key})))||void 0===n?void 0:n.value))};return Object(v.jsx)("fieldset",{id:"businessType",children:Object(v.jsx)(C.a,{control:s,defaultValue:"",name:"basics.businessCategoryId",render:function(e){var t=e.field;return a.map((function(e){var n;return Object(o.createElement)(rn,Object(R.a)(Object(R.a)({},t),{},{description:e.description,key:e.id,label:e.name,selected:e.id===(null===r||void 0===r||null===(n=r.basics)||void 0===n?void 0:n.businessCategoryId),value:e.id}))}))},rules:{required:"Please, Select a field."}})})},sn="i-am-unable-to-find-my-industry";function on(e){var t,n,a=e.form,r=e.isMobileDevice,i=void 0!==r&&r,c=e.setNewSelectedProduct,s=e.taxonomyVocabularyId,l=Object(o.useState)([]),u=Object(L.a)(l,2),d=u[0],b=u[1],m=Object(o.useState)(),p=Object(L.a)(m,2),j=p[0],f=p[1],O=Object(C.d)(),h=O.register,x=O.setValue,S=De(),y=S.isSelected,E=S.updateState,g=en().setPercentage,N=Object(o.useState)(!1),I=Object(L.a)(N,2),_=I[0],A=I[1],T=Zt(),P=T.applicationId,k=T.backToEdit,D=function(e,t){var n=Object(o.useState)(e),a=Object(L.a)(n,2),r=a[0],i=a[1];return Object(o.useEffect)((function(){var n=setTimeout((function(){i(e)}),t);return function(){clearTimeout(n)}}),[e,t]),r}(null===a||void 0===a||null===(t=a.basics)||void 0===t?void 0:t.businessSearch,500),M=function(){var e=Object(w.a)(B.a.mark((function e(){var t,n,a,r=arguments;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=r.length>0&&void 0!==r[0]?r[0]:""){e.next=3;break}return e.abrupt("return",b([]));case 3:return e.prev=3,e.next=6,ge(s,t);case 6:n=e.sent,a=n.data.items||[],f(""),b(a),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(3),f("Unable to make the request. Please try again later.");case 15:case"end":return e.stop()}}),e,null,[[3,12]])})));return function(){return e.apply(this,arguments)}}(),Y=function(){var e=Object(w.a)(B.a.mark((function e(t){return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return A(!0),t||((P||k)&&g(U(Rn.BASICS-1,Rn.BASICS),Bn.BASICS_BUSINESS_TYPE.section),x("basics.businessCategoryId",""),x("basics.properties.businessClassCode",""),x("basics.properties.naics",""),x("basics.properties.segment",""),x("basics.product","")),e.next=4,M(t);case 4:A(!1);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(o.useEffect)((function(){Y(D)}),[D]);var q,F,V=!d.length&&!_&&D;return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsxs)("div",{className:"mb-5",children:[Object(v.jsx)(Gt,Object(R.a)(Object(R.a)({className:Ie()("bg-neutral-1 font-weight-bold px-4 py-0 search text-neutral-10 text-paragraph-lg",{"pr-7":i}),defaultValue:"",isMobileDevice:i,label:"Search for your primary industry and then select it from the list.",placeholder:"Begin typing to show options...",required:!0},h("basics.businessSearch",{required:"Please, search for a business type in order to proceed."})),{},{children:!i&&Object(v.jsx)(Ht.a,{className:"font-weight-bolder ml-3 search text-paragraph text-small-caps",displayType:"primary",children:"Search"})})),Object(v.jsx)("p",{className:"mt-1 paragraph",children:"i.e. Apartments, Coffee, Medical, Pet Stores, etc"})]}),Object(v.jsx)(cn,{businessTypes:d,form:a,setNewSelectedProduct:c}),V&&Object(v.jsxs)(Ke,{children:['There are no results for "',(q=null===a||void 0===a||null===(n=a.basics)||void 0===n?void 0:n.businessSearch,F=18,!q||q.length<=F?q:q.slice(0,F)+"..."),'". Please try a different search.']}),j&&Object(v.jsx)(Ke,{children:j}),D&&!_&&Object(v.jsx)(Ge,{callback:function(){return E(sn)},event:ve,label:"I am unable to find my industry",selected:y(sn),value:{templateName:sn}})]})}var ln="o/headless-commerce-admin-catalog/v1.0";function un(){return dn.apply(this,arguments)}function dn(){return(dn=Object(w.a)(B.a.mark((function e(){var t,n;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ee.get("".concat(ln,"/products?nestedFields=skus,catalog&page=1&pageSize=50"));case 2:return t=e.sent,n=t.data,e.abrupt("return",z(n.items));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function bn(e){return Object(v.jsx)(xt,Object(R.a)(Object(R.a)({},e),{},{inputProps:{className:"mb-5"}}))}var mn=["inputProps"];function pn(e){var t=e.inputProps,n=void 0===t?{}:t,a=Object(_e.a)(e,mn);return Object(v.jsx)(xt,Object(R.a)(Object(R.a)({},a),{},{inputProps:Object(R.a)({className:"mb-5",decimalScale:2,mask:"_",placeholder:"%",suffix:"%"},n)}))}function jn(e){var t=Object.assign({},e),n=function(){var e=Object(o.useState)(),t=Object(L.a)(e,2),n=t[0],a=t[1],r=Object(o.useState)(),i=Object(L.a)(r,2),c=i[0],s=i[1];Object(o.useEffect)((function(){l()}),[]);var l=function(){var e=Object(w.a)(B.a.mark((function e(){var t;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,kt();case 3:t=e.sent,a(t),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),console.warn(e.t0),s(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();return{entities:n||[],isError:c,isLoading:!n&&!c}}(),a=n.entities;return Object(v.jsxs)(wt,Object(R.a)(Object(R.a)({},t),{},{children:[Object(v.jsx)(ze.ClaySelect.Option,{hidden:!0,label:"Select"}),a.map((function(e){var t=e.name;return Object(v.jsx)(ze.ClaySelect.Option,{label:t,value:t},t)}))]}))}var fn=["name","label","renderActions","error","value","required","onChange"],vn=l.a.forwardRef((function(e,t){var n=e.name,a=e.label,r=e.renderActions,i=e.error,c=e.value,s=void 0===c?"true":c,o=e.required,l=void 0!==o&&o,u=e.onChange,d=void 0===u?function(){}:u,b=Object(_e.a)(e,fn);return Object(v.jsxs)(Je,{error:i,children:[a&&Object(v.jsx)($e,{label:a,name:n,required:l,children:r}),Object(v.jsxs)("div",{className:"align-items-center d-flex flex-row justify-content-center justify-content-lg-start justify-content-md-start mb-1 mb-md-4",children:[Object(v.jsx)(Ht.a,{className:Ie()("btn-ghost btn-style-primary mr-2 pl-5 pr-5 rounded-pill switch",{selected:"true"===s}),displayType:null,onClick:function(){return d("true")},type:"button",children:"Yes"}),Object(v.jsx)(Ht.a,{className:Ie()("btn-ghost btn-style-primary pl-5 pr-5 rounded-pill switch",{selected:"false"===s}),displayType:null,onClick:function(){return d("false")},type:"button",children:"No"})]}),Object(v.jsx)("input",Object(R.a)(Object(R.a)({},b),{},{className:"hidden",name:n,onChange:d,ref:t,value:s}))]})})),On=["name","label","control","rules","onSelect","moreInfoProps","inputProps","defaultValue"];function hn(e){var t=e.name,n=e.label,a=e.control,r=e.rules,i=e.onSelect,c=void 0===i?function(){}:i,s=e.moreInfoProps,o=void 0===s?void 0:s,l=e.inputProps,u=void 0===l?{}:l,d=e.defaultValue,b=void 0===d?"":d,m=Object(_e.a)(e,On);return Object(v.jsx)(C.a,Object(R.a)({control:a,defaultValue:b,name:t,render:function(e){var t=e.field,a=e.fieldState;return Object(v.jsx)(vn,Object(R.a)(Object(R.a)({},t),{},{error:a.error,label:n,onChange:function(e){t.onChange(e),c()},renderActions:o&&Object(v.jsx)(Ge,Object(R.a)({},o)),required:null===r||void 0===r?void 0:r.required},u))},rules:r},m))}var xn=function(e){return"business.".concat(e)};var Sn=["inputProps"];function yn(e){var t=e.inputProps,n=void 0===t?{}:t,a=Object(_e.a)(e,Sn);return Object(v.jsx)(xt,Object(R.a)(Object(R.a)({},a),{},{inputProps:Object(R.a)({className:"mb-5",decimalScale:2,fixedDecimalScale:!0,prefix:"$",thousandSeparator:!0},n)}))}var En=["rules","inputProps"];function gn(e){var t=e.rules,n=void 0===t?{}:t,a=e.inputProps,r=void 0===a?{}:a,i=Object(_e.a)(e,En);return Object(v.jsx)(xt,Object(R.a)(Object(R.a)({},i),{},{inputProps:Object(R.a)({format:"##-#######",mask:"_"},r),rules:Object(R.a)({pattern:{message:"Please enter a valid FEIN.",value:at}},n)}))}var Nn=["rules","inputProps"];function In(e){var t=e.rules,n=void 0===t?{}:t,a=e.inputProps,r=void 0===a?{}:a,i=Object(_e.a)(e,Nn);return Object(v.jsx)(xt,Object(R.a)(Object(R.a)({},i),{},{inputProps:Object(R.a)({className:"mb-5",format:"####",mask:"_"},r),rules:Object(R.a)({max:{message:"You cannot enter a future year.",value:(new Date).getFullYear()},pattern:{message:"Must be a valid year.",value:ut}},n)}))}var _n=function(e){return"employees.".concat(e)};var An=["inputProps"];function Cn(e){var t=e.inputProps,n=void 0===t?{}:t,a=Object(_e.a)(e,An);return Object(v.jsx)(xt,Object(R.a)(Object(R.a)({},a),{},{inputProps:Object(R.a)({className:"mb-5",suffix:" ft\xb2",thousandSeparator:!0},n)}))}var Tn=function(e){return"property.".concat(e)};var Pn,wn,Ln,Rn={BASICS:10,EMPLOYEES:7,PROPERTY:6},kn={BUSINESS_ANUAL_GROSS_REVENUE:"What is your estimated annual gross revenue for the next 12 months?",BUSINESS_EMAIL:"Business Email",BUSINESS_FEDERAL_EMPLOYER_IDENTIFICATION_NUMBER:"Does your business have a Federal Employer Identification Number (FEIN)?",BUSINESS_WEBSITE:"Business Website (optional)",BUSINESS_YEAR_OPERATION:"Does your business operate year round?",CITY:"City",DIVING_BOARDS:"Are there diving boards or slides?",DO_YOU_HAVE_RAYLIFE_POLICY:"Do you have a Raylife Auto policy?",DO_YOU_OWN_THE_BUILDING_AT:"Do you own the building at ",DO_YOU_SELL_PRODUCTS_UNDER_OWN_BRAND:"Do you sell products under your own brand or label?",DO_YOU_STORE_PERSONALITY_IDENTIFIABLE:"Do you store personally identifiable information about your customers?",EMPLOYEES_AMOUNT:"How many full or part time employees do you have?",EMPLOYEES_ANNUAL_PAYROLL:"What do you anticipate your annual payroll will be for all employees over the next 12 months?",FEDERAL_EMPLOYER_IDENTIFICATION_NUMBER:"Federal Employer Identification Number (FEIN)",FIRST_NAME:"First Name",HOW_MANY_SQUARE_FEET_OF_THE_BUILDING:"How many square feet of the building does your business occupy?",HOW_MANY_STORIES_IS_THIS_BUILDING:"How many stories is this building?",HOW_MANY_TOTAL_SQUARE_FEET_IS_THE_BUILDING:"How many total square feet is the building?",LAST_NAME:"Last Name",LEGAL_ENTITY:"Legal Entity",OWNERS_ANNUAL_PAYROLL:"What do you anticipate your annual payroll will be for all owner(s) over the next 12 months?",PERCENT_OF_SALES_FROM_MERCHANDISE:"Percent of sales from used merchandise?",PHONE:"Phone",PHYSICAL_ADDRESS:"Physical Address",PHYSICAL_BUSINESS_ADDRESS:"Physical Business Address",PREMISES:"Premises",PRIMARY_LOCATION:"Is this the primary location where you conduct business?",STATE:"State",SWIMMING_POOL:"Are there swimming pool(s) on the premises?",WHAT_PERCENTAGE_OF_OVERALL_INVOLVE_DELIVERY:"What percentage of overall sales involve delivery?",WHAT_YEAR_WAS_THE_BUILDING_CONSTRUCTED:"What year was the building constructed?",YEAR_BUSINESS_STARTED:"What year did you start your business?",YEAR_OF_INDUSTRY_EXPERIENCE:"Years of industry experience?",YOUR_NAME:"Your Name",ZIP:"ZIP"},Bn={BASICS_BUSINESS_INFORMATION:{Component:function(e){var t=e.form,n=e.isMobile,a=Te(ve),r=Object(L.a)(a,1)[0],i=Et(),c=i.getMobileSubSection,s=i.mobileContainerProps,l=Object(C.d)().control,u=function(){var e,n,a,i,c;r({inputName:Ft("firstName"),templateData:{firstName:" ".concat((null===t||void 0===t||null===(e=t.basics)||void 0===e||null===(n=e.businessInformation)||void 0===n||null===(a=n.firstName)||void 0===a?void 0:a.trim())||"","! \ud83d\udc4b")},templateName:"hi-template",value:null===t||void 0===t||null===(i=t.basics)||void 0===i||null===(c=i.businessInformation)||void 0===c?void 0:c.firstName})};return Object(o.useEffect)((function(){var e,n;if(null!==t&&void 0!==t&&null!==(e=t.basics)&&void 0!==e&&null!==(n=e.businessInformation)&&void 0!==n&&n.firstName)return u();r({templateData:{firstName:"! \ud83d\udc4b"},templateName:"hi-template"})}),[]),Object(v.jsxs)("div",{className:"p-0",children:[Object(v.jsx)(It,Object(R.a)(Object(R.a)({},s),{},{mobileSubSection:c(kn.YOUR_NAME),children:Object(v.jsxs)("div",{className:Ie()("d-flex justify-content-between mb-5",Object(ie.a)({},"flex-wrap",n)),children:[Object(v.jsx)(tt,{control:l,inputProps:{autoFocus:!0,className:Ie()("flex-grow-1 p-0 mr-4",{"col-12 mb-4":n}),maxLength:256,onBlur:u},label:kn.FIRST_NAME,name:Ft("firstName"),rules:{required:"First name is required."}}),Object(v.jsx)(tt,{control:l,inputProps:{className:"flex-grow-1 p-0 ",maxLength:256},label:kn.LAST_NAME,name:Ft("lastName"),rules:{required:"Last name is required."}})]})})),Object(v.jsx)(It,Object(R.a)(Object(R.a)({},s),{},{mobileSubSection:c(kn.BUSINESS_EMAIL),children:Object(v.jsx)(mt,{control:l,label:kn.BUSINESS_EMAIL,name:Ft("business.email"),rules:{required:"Email is required."}})})),Object(v.jsx)(It,Object(R.a)(Object(R.a)({},s),{},{mobileSubSection:c(kn.PHONE),children:Object(v.jsx)(yt,{control:l,label:kn.PHONE,name:Ft("business.phone"),rules:{required:"Phone number is required."}})})),Object(v.jsx)(It,Object(R.a)(Object(R.a)({},s),{},{mobileSubSection:c(kn.BUSINESS_WEBSITE),children:Object(v.jsx)(jt,{control:l,label:kn.BUSINESS_WEBSITE,name:Ft("business.website")})})),Object(v.jsx)(It,Object(R.a)(Object(R.a)({},s),{},{mobileSubSection:c(kn.PHYSICAL_ADDRESS),children:Object(v.jsx)(qt,{})}))]})},active:!1,id:"BASICS_BUSINESS_INFORMATION",index:2,mobileSubSections:[{active:!0,hideInputLabel:!1,title:kn.YOUR_NAME},{active:!1,hideInputLabel:!0,title:kn.BUSINESS_EMAIL},{active:!1,hideInputLabel:!0,title:kn.PHONE},{active:!1,hideInputLabel:!0,title:kn.BUSINESS_WEBSITE},{active:!1,hideInputLabel:!1,title:kn.PHYSICAL_ADDRESS}],section:"basics",subsection:"businessInformation",title:"Just the business basics!"},BASICS_BUSINESS_TYPE:{Component:function(e){var t=e.form,n=Object(o.useContext)(Hn),a=n.dispatch,r=n.state,i=Object(C.d)().setValue,c=Object(o.useState)($.getItem(re)),s=Object(L.a)(c,2),l=s[0],u=s[1];return Object(o.useEffect)((function(){r.selectedProduct!==l&&(i("business",""),a({payload:l,type:Fn.SET_SELECTED_PRODUCT}))}),[r.selectedProduct,l]),Object(v.jsx)("div",{className:"d-flex flex-column mb-5",children:Object(v.jsx)(on,{form:t,isMobileDevice:r.dimensions.device.isMobile,setNewSelectedProduct:function(e){u(e),$.setItem(re,e)},taxonomyVocabularyId:r.taxonomyVocabulary.id})})},active:!1,id:"BASICS_BUSINESS_TYPE",index:1,section:"basics",subsection:"business-type",title:"Select a primary industry."},BASICS_PRODUCT_QUOTE:{Component:function(e){var t,n,a=e.form,r=function(){var e=Object(o.useState)([]),t=Object(L.a)(e,2),n=t[0],a=t[1],r=Object(o.useState)(!0),i=Object(L.a)(r,2),c=i[0],s=i[1],l=Object(o.useState)(),u=Object(L.a)(l,2),d=u[0],b=u[1],m=function(){var e=Object(w.a)(B.a.mark((function e(){var t;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,un();case 3:t=e.sent,a(t),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),b(e.t0);case 10:s(!1);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();return Object(o.useEffect)((function(){m()}),[]),{error:d,loading:c,productQuotes:n}}(),i=r.productQuotes,c=Object(C.d)(),s=c.control,l=c.setValue,u=null===a||void 0===a||null===(t=a.basics)||void 0===t?void 0:t.productQuote,d=Object(o.useContext)(Hn).state.dimensions.device.isMobile;Object(o.useEffect)((function(){if(u&&i.length){var e=i.find((function(e){return e.id===u}));l("basics.productQuoteName",e.title)}}),[u,i]);var b=Object(o.useCallback)((function(){l("basics.productQuote",u,{shouldValidate:!0})}),[]);Object(o.useEffect)((function(){b()}),[b]);var m=De(),p=m.isSelected,j=m.updateState;return Object(v.jsx)("div",{className:"card-content d-flex",children:Object(v.jsxs)("div",{className:"col-12 d-flex flex-wrap p-0",children:[Object(v.jsx)("div",{className:Ie()("mb-4 d-flex col-12",{"d-flex justify-content-start":!d,"justify-content-sm-center justify-content-center":d}),children:Object(v.jsx)("label",{className:Ie()("d-flex font-weight-bolder",{"text-paragraph justify-content-start":!d,"text-paragraph-lg justify-content-sm-center justify-content-center":d}),children:"Select a product to quote."})}),Object(v.jsx)("fieldset",{className:"d-flex flex-column mb-4 spacer-3",id:"productQuote",children:Object(v.jsx)(C.a,{control:s,defaultValue:null===a||void 0===a||null===(n=a.basics)||void 0===n?void 0:n.productQuote,name:"basics.productQuote",render:function(e){var t=e.field;return i.map((function(e){var n;return Object(o.createElement)(rn,Object(R.a)(Object(R.a)({},t),{},{description:e.description,key:e.id,label:e.title,renderActions:e.template.allowed&&Object(v.jsx)(Ge,{callback:function(){return j(e.id)},event:ve,selected:p(e.id),value:{inputName:t.name,templateName:e.template.name,value:e.id}}),selected:e.id===(null===a||void 0===a||null===(n=a.basics)||void 0===n?void 0:n.productQuote),sideLabel:e.period,value:e.id}))}))},rules:{required:!0}})})]})})},active:!0,id:"BASICS_PRODUCT_QUOTE",index:0,section:"basics",subsection:"product-quote",title:"Welcome! Select a product."},BUSINESS:{Component:function(e){var t,n,a,r,i,c,s,l,u,d=e.form,b=De(),m=b.isSelected,p=b.updateState,j=Object(C.d)(),f=j.control,O=j.getValues,h=j.setValue,x=Object(o.useContext)(Hn).dispatch,S=null===d||void 0===d||null===(t=d.basics)||void 0===t?void 0:t.properties,y=Et(),E=y.getMobileSubSection,g=y.mobileContainerProps,N=y.nextStep;return Object(o.useEffect)((function(){h(xn("hasAutoPolicy"),O(xn("hasAutoPolicy")),{shouldValidate:!0})}),[]),Object(o.useEffect)((function(){var e=function(e,t){return e?"":t};x({payload:[e(Kt(null===S||void 0===S?void 0:S.naics),kn.PERCENT_OF_SALES_FROM_MERCHANDISE),e(Jt(null===S||void 0===S?void 0:S.naics),kn.DO_YOU_SELL_PRODUCTS_UNDER_OWN_BRAND),e($t(null===S||void 0===S?void 0:S.segment),kn.WHAT_PERCENTAGE_OF_OVERALL_INVOLVE_DELIVERY)].filter(Boolean),type:Fn.SET_MOBILE_SUBSECTION_DISABLE})}),[x,S]),Object(v.jsxs)("div",{className:"card-content",children:[Object(v.jsx)(It,Object(R.a)(Object(R.a)({},g),{},{mobileSubSection:E(kn.YEAR_OF_INDUSTRY_EXPERIENCE),children:Object(v.jsx)(bn,{control:f,label:kn.YEAR_OF_INDUSTRY_EXPERIENCE,moreInfoProps:{callback:function(){return p(xn("yearsOfExperience"))},event:ve,selected:m(xn("yearsOfExperience")),value:{inputName:xn("yearsOfExperience"),templateName:"years-of-industry-experience",value:null===d||void 0===d||null===(n=d.business)||void 0===n?void 0:n.yearsOfExperience}},name:xn("yearsOfExperience"),rules:{min:{message:"Must be equal or greater than 0.",value:0},required:"This field is required"}})})),Object(v.jsx)(It,Object(R.a)(Object(R.a)({},g),{},{mobileSubSection:E(kn.DO_YOU_STORE_PERSONALITY_IDENTIFIABLE),children:Object(v.jsx)(hn,{control:f,label:kn.DO_YOU_STORE_PERSONALITY_IDENTIFIABLE,name:xn("hasStoredCustomerInformation"),onSelect:N,rules:{required:!0}})})),Object(v.jsx)(It,Object(R.a)(Object(R.a)({},g),{},{mobileSubSection:E(kn.DO_YOU_HAVE_RAYLIFE_POLICY),children:Object(v.jsx)(hn,{control:f,label:kn.DO_YOU_HAVE_RAYLIFE_POLICY,name:xn("hasAutoPolicy"),onSelect:N,rules:{required:!0}})})),Object(v.jsx)(It,Object(R.a)(Object(R.a)({},g),{},{mobileSubSection:E(kn.LEGAL_ENTITY),children:Object(v.jsx)(jn,{control:f,inputProps:{className:"mb-5"},label:kn.LEGAL_ENTITY,name:xn("legalEntity"),rules:{required:"This field is required."}})})),Kt(null===d||void 0===d||null===(a=d.basics)||void 0===a||null===(r=a.properties)||void 0===r?void 0:r.naics)&&Object(v.jsx)(It,Object(R.a)(Object(R.a)({},g),{},{mobileSubSection:E(kn.PERCENT_OF_SALES_FROM_MERCHANDISE),children:Object(v.jsx)(pn,{control:f,label:kn.PERCENT_OF_SALES_FROM_MERCHANDISE,moreInfoProps:{callback:function(){return p(xn("salesMerchandise"))},event:ve,selected:m(xn("salesMerchandise")),value:{inputName:xn("salesMerchandise"),templateName:"percent-of-sales-from-used-merchandise",value:null===d||void 0===d||null===(i=d.business)||void 0===i?void 0:i.salesMerchandise}},name:xn("salesMerchandise"),rules:{pattern:{message:"Value must not be greater than 100%.",value:it},required:"Percent of sales is required."}})})),Jt(null===d||void 0===d||null===(c=d.basics)||void 0===c||null===(s=c.properties)||void 0===s?void 0:s.naics)&&Object(v.jsx)(It,Object(R.a)(Object(R.a)({},g),{},{mobileSubSection:E(kn.DO_YOU_SELL_PRODUCTS_UNDER_OWN_BRAND),children:Object(v.jsx)(hn,{control:f,label:kn.DO_YOU_SELL_PRODUCTS_UNDER_OWN_BRAND,name:xn("hasSellProductsUnderOwnBrand"),onSelect:N,rules:{required:!0}})})),$t(null===d||void 0===d||null===(l=d.basics)||void 0===l||null===(u=l.properties)||void 0===u?void 0:u.segment)&&Object(v.jsx)(It,Object(R.a)(Object(R.a)({},g),{},{mobileSubSection:E(kn.WHAT_PERCENTAGE_OF_OVERALL_INVOLVE_DELIVERY),children:Object(v.jsx)(pn,{control:f,label:kn.WHAT_PERCENTAGE_OF_OVERALL_INVOLVE_DELIVERY,name:xn("overallSales"),rules:{pattern:{message:"Value must not be greater than 100%.",value:it},required:"Percent of overall sales is required."}})}))]})},active:!0,id:"BUSINESS",index:3,mobileSubSections:[{active:!0,hideInputLabel:!0,title:kn.YEAR_OF_INDUSTRY_EXPERIENCE},{active:!1,hideContinueButton:!0,hideInputLabel:!0,title:kn.DO_YOU_STORE_PERSONALITY_IDENTIFIABLE},{active:!1,hideContinueButton:!0,hideInputLabel:!0,title:kn.DO_YOU_HAVE_RAYLIFE_POLICY},{active:!1,hideContinueButton:!1,hideInputLabel:!0,title:kn.LEGAL_ENTITY},{active:!1,hideContinueButton:!1,hideInputLabel:!0,title:kn.PERCENT_OF_SALES_FROM_MERCHANDISE},{active:!1,hideContinueButton:!0,hideInputLabel:!0,title:kn.DO_YOU_SELL_PRODUCTS_UNDER_OWN_BRAND},{active:!1,hideContinueButton:!1,hideInputLabel:!0,title:kn.WHAT_PERCENTAGE_OF_OVERALL_INVOLVE_DELIVERY}],section:"business",subsection:"",title:"Let's get to know your business!"},EMPLOYEES:{Component:function(e){var t,n,a,r=e.form,i=Object(C.d)(),c=i.control,s=i.getValues,l=i.setValue,u=Et(),d=u.getMobileSubSection,b=u.mobileContainerProps,m=u.nextStep;Object(o.useEffect)((function(){l(_n("businessOperatesYearRound"),s(_n("businessOperatesYearRound")),{shouldValidate:!0})}),[]);var p,j=De(),f=j.isSelected,O=j.updateState;return Object(v.jsxs)("div",{className:"card-content",children:[Object(v.jsxs)(It,Object(R.a)(Object(R.a)({},b),{},{mobileSubSection:d(kn.BUSINESS_FEDERAL_EMPLOYER_IDENTIFICATION_NUMBER),children:[Object(v.jsx)("div",{className:"mb-4",children:Object(v.jsx)(hn,{control:c,inputProps:{onChange:function(e){Bn.EMPLOYEES.mobileSubSections.map((function(e){e.title===kn.BUSINESS_FEDERAL_EMPLOYER_IDENTIFICATION_NUMBER&&(e.hideContinueButton=!1)})),l(_n("hasFein"),e,{shouldValidate:!0}),"false"===e&&l(_n("fein"),"")}},label:b.isMobile?"":kn.BUSINESS_FEDERAL_EMPLOYER_IDENTIFICATION_NUMBER,name:_n("hasFein"),rules:{required:!0}})}),Object(v.jsx)(gn,{control:c,label:kn.FEDERAL_EMPLOYER_IDENTIFICATION_NUMBER,moreInfoProps:{callback:function(){return O(_n("fein"))},event:ve,selected:f(_n("fein")),value:{inputName:_n("fein"),templateName:"federal-employer-identification-number",value:null===r||void 0===r||null===(t=r.employees)||void 0===t?void 0:t.fein}},name:_n("fein"),renderInput:(p=null===r||void 0===r||null===(n=r.employees)||void 0===n?void 0:n.hasFein,"true"===p),rules:{required:"FEIN is required."}})]})),Object(v.jsx)(It,Object(R.a)(Object(R.a)({},b),{},{mobileSubSection:d(kn.YEAR_BUSINESS_STARTED),children:Object(v.jsx)(In,{control:c,label:kn.YEAR_BUSINESS_STARTED,name:_n("startBusinessAtYear"),rules:{required:"This field is required"}})})),Object(v.jsx)(It,Object(R.a)(Object(R.a)({},b),{},{mobileSubSection:d(kn.BUSINESS_YEAR_OPERATION),children:Object(v.jsx)(hn,{control:c,label:kn.BUSINESS_YEAR_OPERATION,name:_n("businessOperatesYearRound"),onSelect:m,rules:{required:!0}})})),Object(v.jsx)(It,Object(R.a)(Object(R.a)({},b),{},{mobileSubSection:d(kn.EMPLOYEES_AMOUNT),children:Object(v.jsx)(bn,{control:c,label:kn.EMPLOYEES_AMOUNT,moreInfoProps:{callback:function(){return O(_n("partTimeEmployees"))},event:ve,selected:f(_n("partTimeEmployees")),value:{inputName:_n("partTimeEmployees"),templateName:"full-or-part-time-employees",value:null===r||void 0===r||null===(a=r.employees)||void 0===a?void 0:a.partTimeEmployees}},name:_n("partTimeEmployees"),rules:{min:{message:"You must have at least one employee.",value:1},required:"This field is required"}})})),Object(v.jsx)(It,Object(R.a)(Object(R.a)({},b),{},{mobileSubSection:d(kn.BUSINESS_ANUAL_GROSS_REVENUE),children:Object(v.jsx)(yn,{control:c,label:kn.BUSINESS_ANUAL_GROSS_REVENUE,name:_n("estimatedAnnualGrossRevenue"),rules:{required:"This field is required"}})})),Object(v.jsx)(It,Object(R.a)(Object(R.a)({},b),{},{mobileSubSection:d(kn.OWNERS_ANNUAL_PAYROLL),children:Object(v.jsx)(yn,{control:c,label:kn.OWNERS_ANNUAL_PAYROLL,name:_n("annualPayrollForOwner"),rules:{required:"This field is required"}})})),Object(v.jsx)(It,Object(R.a)(Object(R.a)({},b),{},{mobileSubSection:d(kn.EMPLOYEES_ANNUAL_PAYROLL),children:Object(v.jsx)(yn,{control:c,label:kn.EMPLOYEES_ANNUAL_PAYROLL,name:_n("annualPayrollForEmployees"),rules:{required:"This field is required"}})}))]})},active:!1,id:"EMPLOYEES",index:4,mobileSubSections:[{active:!0,hideContinueButton:!0,hideInputLabel:!1,title:kn.BUSINESS_FEDERAL_EMPLOYER_IDENTIFICATION_NUMBER},{active:!1,hideContinueButton:!1,hideInputLabel:!0,title:kn.YEAR_BUSINESS_STARTED},{active:!1,hideContinueButton:!0,hideInputLabel:!0,title:kn.BUSINESS_YEAR_OPERATION},{active:!1,hideContinueButton:!1,hideInputLabel:!0,title:kn.EMPLOYEES_AMOUNT},{active:!1,hideContinueButton:!1,hideInputLabel:!0,title:kn.BUSINESS_ANUAL_GROSS_REVENUE},{active:!1,hideContinueButton:!1,hideInputLabel:!0,title:kn.OWNERS_ANNUAL_PAYROLL},{active:!1,hideContinueButton:!1,hideInputLabel:!0,title:kn.EMPLOYEES_ANNUAL_PAYROLL}],section:"employees",subsection:"",title:"Tell us about your employees!"},PROPERTY:{Component:function(e){var t,n,a,r,i,c,s,l,u,d,b=e.form,m=De(),p=m.isSelected,j=m.updateState,f=Object(C.d)(),O=f.control,h=f.getValues,x=f.setValue,S=Object(o.useContext)(Hn).dispatch,y=null===b||void 0===b||null===(t=b.basics)||void 0===t?void 0:t.properties,E=Et(),g=E.getMobileSubSection,N=E.mobileContainerProps,I=E.nextStep;return Object(o.useEffect)((function(){var e,t;x(Tn("doOwnBuildingAtAddress"),h(Tn("doOwnBuildingAtAddress")),{shouldValidate:!0}),Xt(null===b||void 0===b||null===(e=b.basics)||void 0===e||null===(t=e.properties)||void 0===t?void 0:t.segment.toLowerCase())||Bn.PROPERTY.mobileSubSections.map((function(e){e.title===kn.PRIMARY_LOCATION&&(e.hideContinueButton=!1)}))}),[]),Object(o.useEffect)((function(){var e,t;S({payload:[(e=Xt(null===y||void 0===y?void 0:y.segment.toLowerCase()),t=kn.PREMISES,e?"":t)].filter(Boolean),type:Fn.SET_MOBILE_SUBSECTION_DISABLE})}),[S,y]),Object(v.jsxs)("div",{className:"card-content",children:[Object(v.jsx)(It,Object(R.a)(Object(R.a)({},N),{},{hasAddress:"".concat(b.basics.businessInformation.business.location.address,"?"),mobileSubSection:g(kn.DO_YOU_OWN_THE_BUILDING_AT),children:Object(v.jsx)(hn,{control:O,label:"Do you own the building at ".concat(b.basics.businessInformation.business.location.address,"?"),name:Tn("doOwnBuildingAtAddress"),onSelect:I,rules:{required:!0}})})),Object(v.jsx)(It,Object(R.a)(Object(R.a)({},N),{},{mobileSubSection:g(kn.HOW_MANY_STORIES_IS_THIS_BUILDING),children:Object(v.jsx)(bn,{control:O,label:kn.HOW_MANY_STORIES_IS_THIS_BUILDING,name:Tn("stories"),rules:{min:{message:"Must be equal or greater than 0.",value:0},required:"This field is required"}})})),Object(v.jsx)(It,Object(R.a)(Object(R.a)({},N),{},{mobileSubSection:g(kn.HOW_MANY_SQUARE_FEET_OF_THE_BUILDING),children:Object(v.jsx)(Cn,{control:O,label:kn.HOW_MANY_SQUARE_FEET_OF_THE_BUILDING,moreInfoProps:{callback:function(){return j(Tn("buildingSquareFeetOccupied"))},event:ve,selected:p(Tn("buildingSquareFeetOccupied")),value:{inputName:Tn("buildingSquareFeetOccupied"),templateName:"building-square-footage",value:null===b||void 0===b||null===(n=b.property)||void 0===n?void 0:n.buildingSquareFeetOccupied}},name:Tn("buildingSquareFeetOccupied"),rules:{required:"This field is required"}})})),Object(v.jsx)(It,Object(R.a)(Object(R.a)({},N),{},{mobileSubSection:g(kn.HOW_MANY_TOTAL_SQUARE_FEET_IS_THE_BUILDING),children:Object(v.jsx)(Cn,{control:O,label:kn.HOW_MANY_TOTAL_SQUARE_FEET_IS_THE_BUILDING,name:Tn("totalBuildingSquareFeet"),rules:{required:"This field is required"}})})),Object(v.jsx)(It,Object(R.a)(Object(R.a)({},N),{},{mobileSubSection:g(kn.WHAT_YEAR_WAS_THE_BUILDING_CONSTRUCTED),children:Object(v.jsx)(In,{control:O,label:kn.WHAT_YEAR_WAS_THE_BUILDING_CONSTRUCTED,moreInfoProps:{callback:function(){return j(Tn("yearBuilding"))},event:ve,selected:p(Tn("yearBuilding")),value:{inputName:Tn("yearBuilding"),templateName:"year-constructed",value:null===b||void 0===b||null===(a=b.property)||void 0===a?void 0:a.yearBuilding}},name:Tn("yearBuilding"),rules:{required:"This field is required"}})})),Object(v.jsx)(It,Object(R.a)(Object(R.a)({},N),{},{mobileSubSection:g(kn.PRIMARY_LOCATION),children:Object(v.jsx)(hn,{control:O,label:kn.PRIMARY_LOCATION,moreInfoProps:{callback:function(){return j(Tn("isPrimaryBusinessLocation"))},event:ve,selected:p(Tn("isPrimaryBusinessLocation")),value:{inputName:Tn("isPrimaryBusinessLocation"),templateName:"primary-location",value:null===b||void 0===b||null===(r=b.property)||void 0===r?void 0:r.isPrimaryBusinessLocation}},name:Tn("isPrimaryBusinessLocation"),onSelect:Xt(null===b||void 0===b||null===(i=b.basics)||void 0===i||null===(c=i.properties)||void 0===c?void 0:c.segment.toLowerCase())?I:null,rules:{required:!0}})})),Xt(null===b||void 0===b||null===(s=b.basics)||void 0===s||null===(l=s.properties)||void 0===l?void 0:l.segment.toLowerCase())&&Object(v.jsxs)(It,Object(R.a)(Object(R.a)({},N),{},{mobileSubSection:g(kn.PREMISES),children:[Object(v.jsx)("div",{className:"mb-4",children:Object(v.jsx)(hn,{control:O,inputProps:{onChange:function(e){Bn.PROPERTY.mobileSubSections.map((function(e){e.title===kn.PREMISES&&(e.hideContinueButton=!1)})),x(Tn("isThereSwimming"),e,{shouldValidate:!0}),"false"===e&&x(Tn("isThereDivingBoards"),"")}},label:kn.SWIMMING_POOL,name:Tn("isThereSwimming"),rules:{required:!0}})}),(d=null===b||void 0===b||null===(u=b.property)||void 0===u?void 0:u.isThereSwimming,("true"===d||!0===d)&&Object(v.jsx)(hn,{control:O,label:kn.DIVING_BOARDS,name:Tn("isThereDivingBoards"),rules:{required:!0}}))]}))]})},active:!1,id:"PROPERTY",index:5,mobileSubSections:[{active:!0,hideContinueButton:!0,hideInputLabel:!0,title:kn.DO_YOU_OWN_THE_BUILDING_AT},{active:!1,hideContinueButton:!1,hideInputLabel:!0,title:kn.HOW_MANY_STORIES_IS_THIS_BUILDING},{active:!1,hideContinueButton:!1,hideInputLabel:!0,title:kn.HOW_MANY_SQUARE_FEET_OF_THE_BUILDING},{active:!1,hideContinueButton:!1,hideInputLabel:!0,title:kn.HOW_MANY_TOTAL_SQUARE_FEET_IS_THE_BUILDING},{active:!1,hideContinueButton:!1,hideInputLabel:!0,title:kn.WHAT_YEAR_WAS_THE_BUILDING_CONSTRUCTED},{active:!1,hideContinueButton:!0,hideInputLabel:!0,title:kn.PRIMARY_LOCATION},{active:!1,hideContinueButton:!1,hideInputLabel:!1,title:kn.PREMISES}],section:"property",subsection:"",title:"More about"}},Dn=Object.values(Bn).sort((function(e,t){return e.index-t.index})),Mn={key:"incomplete",name:"Incomplete"},Un={key:"open",name:"Open"},Yn={key:"quoted",name:"Quoted"},qn={dimensions:{device:{}},percentage:(Pn={},Object(ie.a)(Pn,Bn.BASICS_BUSINESS_INFORMATION.section,0),Object(ie.a)(Pn,Bn.BUSINESS.section,0),Object(ie.a)(Pn,Bn.EMPLOYEES.section,0),Object(ie.a)(Pn,Bn.PROPERTY.section,0),Pn),selectedProduct:null===(wn=JSON.parse($.getItem(X)))||void 0===wn||null===(Ln=wn.basics)||void 0===Ln?void 0:Ln.businessCategoryId,selectedTrigger:"",steps:Dn,taxonomyVocabulary:{}},Fn={SET_DIMENSIONS:"SET_DIMENSIONS",SET_MOBILE_SUBSECTION_ACTIVE:"SET_MOBILE_SUBSECTION_ACTIVE",SET_MOBILE_SUBSECTION_DISABLE:"SET_MOBILE_SUBSECTION_DISABLE",SET_PERCENTAGE:"SET_PERCENTAGE",SET_SELECTED_PRODUCT:"SET_SELECTED_PRODUCT",SET_SELECTED_TRIGGER:"SET_SELECTED_TRIGGER",SET_STEP_ACTIVE:"SET_STEP_ACTIVE",SET_TAXONOMY_VOCABULARY:"SET_TAXONOMY_VOCABULARY"};function Vn(e,t){switch(t.type){case Fn.SET_DIMENSIONS:return Object(R.a)(Object(R.a)({},e),{},{dimensions:t.payload});case Fn.SET_PERCENTAGE:return Object(R.a)(Object(R.a)({},e),{},{percentage:t.payload});case Fn.SET_SELECTED_TRIGGER:return Object(R.a)(Object(R.a)({},e),{},{selectedTrigger:t.payload});case Fn.SET_SELECTED_PRODUCT:return Object(R.a)(Object(R.a)({},e),{},{selectedProduct:t.payload});case Fn.SET_MOBILE_SUBSECTION_ACTIVE:return Object(R.a)(Object(R.a)({},e),{},{steps:e.steps.map((function(e){var n=e.mobileSubSections;if(e.active&&Array.isArray(n)){var a=n.findIndex((function(e){return e.active})),r=t.payload.nextStep?a+1:a-1;return Object(R.a)(Object(R.a)({},e),{},{mobileSubSections:n.map((function(e,t){return Object(R.a)(Object(R.a)({},e),{},{active:t===r})}))})}return e}))});case Fn.SET_MOBILE_SUBSECTION_DISABLE:var n=t.payload;return Object(R.a)(Object(R.a)({},e),{},{steps:e.steps.map((function(e){var t=e.mobileSubSections;return Array.isArray(t)?Object(R.a)(Object(R.a)({},e),{},{mobileSubSections:t.filter((function(e){return!(Array.isArray(n)?n.includes(e.title):n===e.title)}))}):e}))});case Fn.SET_STEP_ACTIVE:return Object(R.a)(Object(R.a)({},e),{},{steps:e.steps.map((function(e){return Object(R.a)(Object(R.a)({},e),{},{active:e.id===t.payload.id})}))});case Fn.SET_TAXONOMY_VOCABULARY:return Object(R.a)(Object(R.a)({},e),{},{taxonomyVocabulary:t.payload});default:return e}}var Hn=Object(o.createContext)({});function Wn(e){var t,n=e.children,a=fe(),r=Object(o.useReducer)(Vn,qn),i=Object(L.a)(r,2),c=i[0],s=i[1],l=c.steps.find((function(e){return e.active}));return Object(o.useEffect)((function(){var e=function(){return s({payload:"",type:Fn.SET_SELECTED_TRIGGER})};return window.addEventListener(Oe,e),function(){return window.removeEventListener(Oe,e)}}),[]),Object(o.useEffect)((function(){Ee.get("o/headless-admin-taxonomy/v1.0/sites/".concat(p.ThemeDisplay.getCompanyGroupId(),"/taxonomy-vocabularies?filter=name eq '").concat("Raylife","'")).then((function(e){var t=e.data;return s({payload:t.items[0],type:Fn.SET_TAXONOMY_VOCABULARY})})).catch((function(e){return console.error(e)}))}),[]),Object(o.useEffect)((function(){s({payload:a,type:Fn.SET_DIMENSIONS})}),[a]),Object(v.jsx)(Hn.Provider,{value:{dispatch:s,state:Object(R.a)(Object(R.a)({},c),{},{activeMobileSubSection:null===(t=l.mobileSubSections)||void 0===t?void 0:t.find((function(e){var t=e.active,n=e.blocked;return t&&!(void 0!==n&&n)})),selectedStep:l})},children:n})}var Gn="o/c/raylifeapplications";function zn(e,t){var n,a=G(e,t);return null!==e&&void 0!==e&&null!==(n=e.basics)&&void 0!==n&&n.applicationId?Ee.patch("".concat(Gn,"/").concat(e.basics.applicationId),a):Ee.post("".concat(Gn,"/"),a)}function Qn(e,t){return Ee.patch("".concat(Gn,"/").concat(e),{applicationStatus:{key:null===t||void 0===t?void 0:t.key,name:null===t||void 0===t?void 0:t.name}})}var Kn=Zt(),Jn=function(e){var t=e.children,n=e.initialValues,a=Kn.applicationId?n:function(){var e=$.getItem(X);return Kn.backToEdit&&e?JSON.parse(e):{}}(),r=Object(C.c)({defaultValues:a,mode:"onChange"});return Object(v.jsx)(h,{children:Object(v.jsx)(Wn,{children:Object(v.jsx)(We,{children:Object(v.jsx)(C.b,Object(R.a)(Object(R.a)({},r),{},{children:Object(v.jsx)(D,{children:t})}))})})})},$n=function(e){var t=e.children,n=Object(o.useState)(null),a=Object(L.a)(n,2),r=a[0],i=a[1],c=Object(o.useState)(!1),s=Object(L.a)(c,2),l=s[0],u=s[1],d=Kn.applicationId,b=function(){var e=Object(w.a)(B.a.mark((function e(){var t,n,a;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(u(!0),t={},e.prev=2,!d){e.next=9;break}return e.next=6,r=d,Ee.get("".concat(Gn,"/").concat(r));case 6:n=e.sent,a=n.data,t=Q(a);case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(2),console.error(e.t0.message);case 14:i(t),u(!1);case 16:case"end":return e.stop()}var r}),e,null,[[2,11]])})));return function(){return e.apply(this,arguments)}}();return Object(o.useEffect)((function(){b()}),[]),l?null:Object(v.jsx)(Jn,{initialValues:r,children:t})};var Xn=j(),Zn=function(e){var t=e.email,n=e.isMobileDevice,a=void 0!==n&&n,r=e.onClose,i=e.productQuote,c=e.setError,s=e.show,l=Object(C.d)().control._fields,u=Object(o.useContext)(Hn).state.selectedStep,d=function(){var e=Object(w.a)(B.a.mark((function e(){var n,a;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=$.getItem(Z),e.next=4,s={productName:i,quoteRetrieveLink:"".concat(origin).concat(Xn,"/get-a-quote?applicationId=").concat(n),retrieveEmail:t},Ee.post("".concat("o/c/quoteretrieves","/scopes/").concat(p.ThemeDisplay.getScopeGroupId()),s);case 4:return a=Un,Bn.BASICS_BUSINESS_INFORMATION.index!==u.index&&(a=Mn),Bn.BUSINESS.index===u.index&&0===M((null===l||void 0===l?void 0:l.business)||{})&&(a=Un),Bn.EMPLOYEES.index===u.index&&0===M((null===l||void 0===l?void 0:l.employees)||{})&&(a=Un),Bn.PROPERTY.index===u.index&&0===M((null===l||void 0===l?void 0:l.property)||{})&&(a=Un),e.next=11,Qn(n,a);case 11:P(),f(be),e.next=19;break;case 15:e.prev=15,e.t0=e.catch(0),c("Unable to save your information. Please try again."),r();case 19:case"end":return e.stop()}var s}),e,null,[[0,15]])})));return function(){return e.apply(this,arguments)}}();return Object(v.jsx)(ke,{backdropLight:a,closeable:!a,footer:Object(v.jsxs)("div",{className:Ie()("align-items-center d-flex flex-row ml-2 mr-1 mt-auto",{"flex-wrap justify-content-center":a,"justify-content-between":!a}),children:[Object(v.jsx)("button",{className:Ie()("btn btn-link link text-link-md text-small-caps",{"mb-1 text-neutral-0":a,"text-neutral-7":!a}),onClick:r,children:"Continue Quote"}),Object(v.jsx)("button",{className:Ie()("btn btn-primary rounded text-link-md text-small-caps",{"w-100":a}),onClick:d,children:"Send Link & Exit"})]}),onClose:r,show:s,size:a?"small-mobile":"medium",children:Object(v.jsx)("div",{className:Ie()("align-items-center d-flex flex-column justify-content-between  progress-saved-content",{"mt-5":!a,"my-3":a}),children:Object(v.jsxs)("div",{className:"align-items-center d-flex flex-column progress-saved-body w-100",children:[Object(v.jsx)("div",{className:"align-items-center bg-success d-flex flex-shrink-0 justify-content-center progress-saved-icon rounded-circle",children:Object(v.jsx)(m.a,{symbol:"check"})}),Object(v.jsx)("h2",{className:"font-weight-bolder",children:"Your progress is saved"}),Object(v.jsxs)("div",{className:Ie()("font-weight-normal pt-1 text-center  text-paragraph",{"text-neutral-0":a,"text-neutral-8":!a}),children:[Object(v.jsxs)("p",{children:["We will send a link to\xa0",Object(v.jsx)("b",{children:t}),"."]}),Object(v.jsx)("p",{children:"Use the link to pick up where you left off at any time."})]})]})})})};function ea(){window.scroll({behavior:"smooth",left:0,top:0})}var ta=function(e){return e&&void 0!==e&&null!==e&&"true"===e};var na=function(e){var t=e.errorMessage,n=void 0===t?"Unable to save your information. Please try again.":t,a=e.form,r=e.nextSection,i=e.previousSection,c=e.saveData,s=void 0!==c&&c,l=Object(o.useState)(),u=Object(L.a)(l,2),d=u[0],b=u[1],m=Object(C.d)(),p=m.setError,j=m.setValue,v=en().setSection,O=Object(o.useContext)(Hn).state.selectedStep;Object(o.useEffect)((function(){d&&(j("basics.applicationId",d),$.setItem(Z,d))}),[d]),Object(o.useEffect)((function(){$.setItem(X,JSON.stringify(a))}),[a]);var h=Object(o.useCallback)((function(){var e=function(e,t){var n,a,r,i=null===e||void 0===e||null===(n=e.business)||void 0===n?void 0:n.hasSellProductsUnderOwnBrand,c=null===e||void 0===e||null===(a=e.employees)||void 0===a?void 0:a.hasFein,s=null===e||void 0===e||null===(r=e.property)||void 0===r?void 0:r.isThereDivingBoards,o="";return ta(i)&&"employees"===(null===t||void 0===t?void 0:t.section)?o="We need to ask you for more information about your business.":ta(c)||"property"!==(null===t||void 0===t?void 0:t.section)?ta(s)&&(o="We need to ask you for more information about your business location."):o="We need to ask you for more information about your employees.",o}(a,r),t=!0;return e?($.setItem(ne,e),f(ue),t=!1):$.removeItem(ne),t}),[a,r]),x=Object(o.useCallback)(Object(w.a)(B.a.mark((function e(){var t,r,i=arguments;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=i.length>0&&void 0!==i[0]?i[0]:{},s){e.next=3;break}return e.abrupt("return");case 3:return p("continueButton",{}),e.prev=4,e.next=7,zn(a,t);case 7:return r=e.sent,b(r.data.id),e.abrupt("return",r);case 12:throw e.prev=12,e.t0=e.catch(4),p("continueButton",{message:n||"There was an error processing your request. Please try again.",type:"manual"}),e.t0;case 16:case"end":return e.stop()}}),e,null,[[4,12]])}))),[n,a,s,p]),S=Object(o.useCallback)(Object(w.a)(B.a.mark((function e(){return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x();case 2:i&&v(i),ea();case 4:case"end":return e.stop()}}),e)}))),[x,i,v]);return{onNext:Object(o.useCallback)(Object(w.a)(B.a.mark((function e(){var t;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Un,Bn.PROPERTY.index===O.index&&(t=Yn),e.next=4,x(t);case 4:if(P(),!h()){e.next=11;break}if(!r){e.next=10;break}return v(r),e.abrupt("return",ea());case 10:f(de);case 11:case"end":return e.stop()}}),e)}))),[h,r,O,x,v]),onPrevious:S,onSave:x}},aa=function(e,t){var n=Object(o.useContext)(Hn),a=n.dispatch,r=n.state.selectedStep,i=r.index,c=r.mobileSubSections,s=Array.isArray(c),l=null===c||void 0===c?void 0:c.findIndex((function(e){return e.active})),u=function(e){a({payload:{nextStep:e},type:Fn.SET_MOBILE_SUBSECTION_ACTIVE})};return Object(R.a)(Object(R.a)({},e),{},{onNext:function(){if(s&&l!==c.length-1)return u(!0);e.onNext()},onPrevious:function(){return 0!==i||s?l&&s?u(!1):void e.onPrevious():t()}})},ra=function(){P(),f(be),Storage.removeItem(ee)},ia=function(e){var t=Object(o.useContext)(Hn).state,n=t.dimensions.device.isMobile,a=t.selectedStep.index,r=void 0===a?0:a,i=na(e),c=aa(i,ra);return n?c:Object(R.a)(Object(R.a)({},i),{},{onPrevious:function(){if(0!==r)return i.onPrevious();ra()}})},ca=Object(o.createContext)(),sa=function(e){var t,n,a,r=e.children,i=e.form,c=Object(o.useState)(!1),s=Object(L.a)(c,2),l=s[0],u=s[1],d=Object(o.useState)(),b=Object(L.a)(d,2),m=b[0],p=b[1],j=Object(C.d)(),f=j.formState,O=f.errors,h=f.isValid,x=j.getValues,S=j.setValue,y=Object(o.useState)(!1),E=Object(L.a)(y,2),g=E[0],N=E[1],I=Object(o.useContext)(Hn).state,_=I.activeMobileSubSection,A=I.dimensions.device.isMobile,T=I.selectedStep.index,P=void 0===T?0:T,w=I.steps,R=!(null===O||void 0===O||null===(t=O.basics)||void 0===t||null===(n=t.businessInformation)||void 0===n||null===(a=n.business)||void 0===a||!a.email),k=x("basics.businessInformation.business.email"),B=x("basics.productQuoteName"),D=ia({form:i,nextSection:w[P+1],previousSection:w[P-1],saveData:P>1}),M=D.onNext,U=D.onPrevious,Y=D.onSave;return Object(v.jsxs)(ca.Provider,{value:{actionProps:{onClickSaveAndExit:function(){N(!0),Y().then((function(){return u(!0)})).catch((function(e){return console.error(e)})).finally((function(){return N(!1)}))},onNext:M,onPrevious:U,onSave:Y,onSaveDisabled:!k||R||g,showContinueButton:!A||null===_||void 0===_||!_.hideContinueButton,showSaveAndExit:M&&P>=2},errorModal:m,isMobileDevice:A,isValid:h,setShowProgressModal:u},children:[r,Object(v.jsx)(Zn,{email:k,isMobileDevice:A,onClose:function(){u(!1),S("basics.businessInformation.business.email",k,{shouldValidate:!0})},productQuote:B,setError:function(e){return p(e)},show:l})]})};function oa(e){var t=e.children;return Object(v.jsx)("div",{className:"col-12",children:Object(v.jsx)(nn.a,{className:"d-flex flex-column m-auto m-lg-0 px-3 px-lg-6 px-md-6 px-sm-3 py-5 py-lg-6 py-md-6 py-sm-5 rounded shadow-lg",children:t})})}function la(e){var t=e.form,n=e.formActionContext.isMobileDevice,a=en(),r=a.selectedStep,i=a.setSection,c=Object(o.useState)(!1),s=Object(L.a)(c,2),l=s[0],u=s[1],d=Object(o.useState)(!1),b=Object(L.a)(d,2),m=b[0],p=b[1],j=Zt().backToEdit;Object(o.useEffect)((function(){!l&&t&&u(!0)}),[t]),Object(o.useEffect)((function(){if(j)return f();p(!0)}),[l]);var f=function(){var e,n,a=Object.keys(t).filter((function(e){return"raylife-form-input"!==e}));switch(null===(e=a[a.length-1])||void 0===e?void 0:e.toLowerCase()){case"basics":var r=null===(n=Object.keys(null===t||void 0===t?void 0:t.basics)[Object.keys(null===t||void 0===t?void 0:t.basics).length-1])||void 0===n?void 0:n.toLowerCase();i("businessInformation"===r?Bn.BASICS_BUSINESS_INFORMATION:"business-type"===r?Bn.BASICS_BUSINESS_TYPE:Bn.BASICS_PRODUCT_QUOTE);break;case"business":i(Bn.BUSINESS);break;case"employees":i(Bn.EMPLOYEES);break;case"property":i(Bn.PROPERTY)}p(!0)};if(!l||!m)return null;var O=(null===r||void 0===r?void 0:r.Component)||function(){return Object(v.jsx)(v.Fragment,{})};return Object(v.jsx)(O,{form:t,isMobile:n})}function ua(e){var t=e.isMobileDevice,n=e.isValid,a=void 0===n||n,r=e.onClickSaveAndExit,i=e.onNext,c=e.onPrevious,s=e.onSaveDisabled,o=e.showContinueButton,l=e.showSaveAndExit;return Object(v.jsxs)("div",{className:Ie()("d-flex justify-content-between",{"mt-5":!t}),children:[!t&&c&&Object(v.jsx)(Ht.a,{className:"btn-borderless btn-style-neutral font-weight-bolder previous text-paragraph text-small-caps",displayType:"null",onClick:c,children:"Previous"}),Object(v.jsxs)("div",{className:Ie()("d-flex",{"w-100":t}),children:[!t&&l&&Object(v.jsx)(Ht.a,{className:"font-weight-bolder mr-3 save-exit text-paragraph text-small-caps",disabled:s,displayType:"secondary",onClick:r,children:"Save & Exit"}),i&&o&&Object(v.jsxs)(Ht.a,{className:Ie()("btn-solid btn-style-secondary continue font-weight-bolder text-paragraph text-small-caps",{"w-100":t}),disabled:!a,onClick:i,children:["Continue",Object(v.jsx)("span",{className:"inline-item inline-item-before ml-1",children:Object(v.jsx)(m.a,{symbol:"angle-right"})})]})]})]})}function da(e){var t=e.onClickSaveAndExit,n=e.onPrevious,a=e.onSaveDisabled,r=e.showSaveAndExit;return Object(v.jsxs)("div",{className:"d-flex justify-content-between mx-0 row",children:[n&&Object(v.jsx)(Ht.a,{className:"btn-borderless font-weight-bolder previous text-neutral-0 text-paragraph text-small-caps",displayType:"style-neutral",onClick:n,children:"Previous"}),Object(v.jsx)("div",{className:"d-flex",children:r&&Object(v.jsx)(Ht.a,{className:"btn btn-ghost btn-inverted font-weight-bolder mr-3 save-exit text-neutral-0 text-paragraph text-small-caps",disabled:a,displayType:"style-neutral",onClick:t,children:"Save & Exit"})})]})}var ba=function(e){var t=e.displayError,n=e.isMobileDevice;if(!t)return null;var a=function(){return Object(v.jsx)(Ke,{children:t})};return n?Object(v.jsx)("div",{className:"mb-5",children:Object(v.jsx)(a,{})}):Object(v.jsx)(a,{})},ma=function(e){var t,n=e.formActionContext,a=n.actionProps,r=n.errorModal,i=n.isMobileDevice,c=n.isValid,s=Object(C.d)().formState.errors;return Object(v.jsxs)("div",{className:Ie()({"col-12 mt-5 px-0":i,hide:!a.showContinueButton&&i}),children:[Object(v.jsx)(ba,{displayError:(null===s||void 0===s||null===(t=s.continueButton)||void 0===t?void 0:t.message)||r,isMobileDevice:i}),Object(v.jsx)(ua,Object(R.a)(Object(R.a)({},a),{},{isMobileDevice:i,isValid:c}))]})},pa=function(e){var t=e.formActionContext,n=t.actionProps,a=t.isMobileDevice;return Object(v.jsx)("div",{className:"col-12 mt-5",children:a&&Object(v.jsx)(da,Object(R.a)({},n))})},ja=function(e){var t=e.form,n=Object(o.useContext)(Hn).state.selectedStep.index;return Object(v.jsx)(sa,{form:t,children:Object(v.jsx)(ca.Consumer,{children:function(e){return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsxs)(oa,{children:[Object(v.jsx)(la,{currentStepIndex:n,form:t,formActionContext:e}),Object(v.jsx)(ma,{formActionContext:e})]}),Object(v.jsx)(pa,{formActionContext:e})]})}})})};function fa(e){var t=e.className,n=e.diameter,a=void 0===n?24:n,r=e.percent,i=void 0===r?0:r,c=e.strokeColor,s=void 0===c?"#4C85FF":c,o=e.strokeWidth,l=void 0===o?2:o,u=a/2,d=u-2*l,b=(u-l)/2;return Object(v.jsx)("svg",{className:t,height:a,width:a,children:Object(v.jsx)("circle",{className:"progress",cx:b,cy:b,fill:"transparent",r:d,stroke:s,strokeLinecap:"round",strokeWidth:l,style:{strokeDasharray:"".concat(Y(d)," ").concat(Y(d)),strokeDashoffset:q(i,Y(d))}})})}function va(e){var t=e.children,n=e.isMobile,a=void 0!==n&&n,r=e.onClick,i=e.percentage,c=void 0===i?0:i,s=e.selected,o=void 0!==s&&s,l=100===c,u=0!==c;return Object(v.jsxs)("div",{className:Ie()("align-items-center d-flex font-weight-bolder step-item text-paragraph-lg",{completed:l,partially:u,selected:o,"text-brand-primary":o||u}),onClick:u&&!a?r:void 0,children:[Object(v.jsx)("i",{className:"align-items-center justify-content-center position-relative",children:u&&Object(v.jsx)(fa,{className:"position-absolute progress-ring",diameter:32,percent:c,strokeWidth:3})}),l&&Object(v.jsx)("div",{className:"align-items-center bg-brand-primary d-flex justify-content-center",children:Object(v.jsx)(m.a,{className:"m-0 text-neutral-0",symbol:"check"})}),t]})}function Oa(e){var t=e.children;return Object(v.jsx)("div",{className:"c-mr-6 c-mt-10 d-flex flex-column step-list",children:t})}function ha(){var e=en(),t=e.selectedStep.section,n=e.setSection,a=Object(o.useContext)(Hn).state,r=a.dimensions.device.isMobile,i=a.percentage;return Object(v.jsxs)(Oa,{children:[Object(v.jsx)(va,{isMobile:r,onClick:function(){$.setItem(te,!0),n(Bn.BASICS_PRODUCT_QUOTE)},percentage:i[Bn.BASICS_PRODUCT_QUOTE.section],selected:t===Bn.BASICS_PRODUCT_QUOTE.section,children:"Basics"}),Object(v.jsx)(va,{isMobile:r,onClick:function(){return n(Bn.BUSINESS)},percentage:i[Bn.BUSINESS.section],selected:t===Bn.BUSINESS.section,children:"Business"}),Object(v.jsx)(va,{isMobile:r,onClick:function(){return n(Bn.EMPLOYEES)},percentage:i[Bn.EMPLOYEES.section],selected:t===Bn.EMPLOYEES.section,children:"Employees"}),Object(v.jsx)(va,{isMobile:r,onClick:function(){return n(Bn.PROPERTY)},percentage:i[Bn.PROPERTY.section],selected:t===Bn.PROPERTY.section,children:"Property"})]})}var xa=function(){var e=Object(C.e)(),t=en().selectedStep,n=De().updateState,a=Object(o.useContext)(Hn).state.dimensions.device.isMobile;return Object(o.useEffect)((function(){window.onbeforeunload=function(e){return e.preventDefault(),e.returnValue=T,T}})),Object(o.useEffect)((function(){n("")}),[t.section,t.subsection]),Object(o.useEffect)((function(){!function(e){var t,n;e&&(null===(n=document.querySelector("section#content"))||void 0===n||n.setAttribute("class","raylife-mobile")),null===(t=document.querySelector(".get-a-quote-structure .step-list"))||void 0===t||t.setAttribute("style",e?"overflow-x: auto; overflow-y: hidden; height: 39px;":"justify-content-center")}(a)}),[a]),Object(v.jsxs)("div",{className:"d-flex get-a-quote-structure justify-content-between",children:[Object(v.jsx)(ha,{}),Object(v.jsxs)("main",{className:"d-flex flex-wrap justify-content-lg-start justify-content-md-center",children:[Object(v.jsxs)("h2",{className:"display-4 mb-6 mx-6 step-title",children:[t.title,Bn.PROPERTY.section===t.section&&Object(v.jsx)("span",{className:"primary",children:e.basics.businessInformation.business.location.address})]}),Object(v.jsx)(ja,{form:e})]})]})},Sa=function(){return Object(v.jsx)($n,{children:Object(v.jsx)(xa,{})})},ya=["category","mostPopular","price","promo"],Ea=new Intl.NumberFormat("en-US",{currency:"USD"}),ga=function(e){return Ie()("d-flex align-items-center",{checkIcon:!!e,"text-neutral-8 timesIcon":!e})},Na=function(e){var t=e.aggregateLimit,n=e.businessPersonalProperty,a=e.moneyAndSecurities,r=[{title:"Per Occurrence Limit",value:e.perOccuranceLimit},{title:"Aggregate Limit",value:t},{title:"Business Personal Property",value:n},{title:"Product Recall or Replacement",value:e.productRecallOrReplacement},{title:"Money & Securities",value:a||!1}];return Object(v.jsx)("ul",{className:"m-0 p-0",children:r.map((function(e,t){var n=e.title,a=e.value,r=function(e){return"true"===e||"false"===e||"boolean"===typeof e?JSON.parse(e):"$".concat(Ea.format(e))}(a);return Object(v.jsxs)("li",{className:"d-flex font-weight-normal justify-content-between text-neutral-8 text-paragraph-sm",children:[Object(v.jsxs)("div",{className:ga(r),children:[Object(v.jsx)("div",{className:"inline-item inline-item-before",children:Object(v.jsx)("div",{className:Ie()("align-items-center d-flex icon justify-content-center",{"border border-primary rounded-circle":!!a}),children:Object(v.jsx)(m.a,{className:Ie()({"text-brand-primary ":!!a,"text-neutral-8":!a}),symbol:r?"check":"times",width:50})})}),Object(v.jsx)("span",{children:n})]}),r]},t)}))})},Ia=function(e){var t=e.highlightMostPopularText,n=void 0===t?"Most Popular":t,a=e.isMobileDevice,r=void 0!==a&&a,i=e.onClickPolicyDetails,c=e.onClickPurchase,s=e.product,o=e.purchasable,l=void 0===o||o,u=s.category,d=s.mostPopular,b=s.price,m=s.promo,p=Object(_e.a)(s,ya),j=Number(m);return Object(v.jsxs)("div",{className:Ie()("flex-shrink-0 rounded bg-neutral-0",{"col-12 mx-auto p-0":!l,"ml-auto":l&&!r,"mt-4":!d&&!r,"mx-2":r}),id:"quote-comparison-item",children:[Object(v.jsx)("div",{className:Ie()("align-items-center d-flex header-size justify-content-center rounded-top",{"bg-brand-secondary ":d,"bg-neutral-0":!d}),children:d&&Object(v.jsx)("p",{className:"font-weight-bold text-paragraph text-small-caps text-white",children:n})}),Object(v.jsxs)("div",{className:"d-flex flex-column justify-content-between pb-5 pt-4 px-4 quote-content",children:[Object(v.jsxs)("div",{className:"quote-header text-center",children:[Object(v.jsx)("h4",{className:"font-weight-bolder text-brand-primary text-capitalize",children:u}),Object(v.jsxs)("div",{className:"d-flex display-3 flex-row font-weight-bolder justify-content-center text-neutral-10 value",children:[Object(v.jsxs)("span",{children:["$",Number(b).toLocaleString("en-US")]}),Object(v.jsx)("div",{className:"font-weight-light text-neutral-9",children:"/yr"})]}),Object(v.jsxs)("div",{className:"font-weight-normal m-auto mt-1 quote-subtitle text-neutral-8 text-paragraph-xs",children:[Object(v.jsx)("span",{children:"Minimum payment of "}),Object(v.jsx)(v.Fragment,{}),Object(v.jsxs)("span",{className:"text-brand-primary",children:["$",j%1===0?j:j.toFixed(2)," "]})," ","to get coverage today"]})]}),Object(v.jsx)("div",{className:Ie()("quote-body",{"select-quote-mobile":!l}),children:Object(v.jsx)(Na,Object(R.a)({},p))}),Object(v.jsxs)("div",{className:Ie()("border-0 p-0",{"select-quote-mobile":!l}),children:[l&&Object(v.jsx)("div",{className:"bg-transparent d-flex justify-content-center",children:Object(v.jsx)(Ht.a,{className:Ie()("px-4 py-3",{"btn-outline-primary":!d,"btn-primary":d}),displayType:null,id:"purchase",onClick:function(){return c(s)},children:"PURCHASE THIS POLICY"})}),Object(v.jsx)("div",{className:"d-flex justify-content-center",children:Object(v.jsx)(Ht.a,{className:"bg-transparent border-0 font-weight-normal mt-3 p-0 text-capitalize text-neutral-8",displayType:"unstyled",id:"details",onClick:i,children:Object(v.jsx)("u",{children:"Policy Details"})})})]})]})]})},_a=function(e){var t=e.cardElements,n=e.children,a=e.initialActiveIndex,r=void 0===a?1:a,i=e.isMobileDevice,c=e.items,s=void 0===c?[]:c,l=e.scrollableContainer,u=Object(o.useState)(r),d=Object(L.a)(u,2),b=d[0],m=d[1],p=Object(o.useState)(!0),j=Object(L.a)(p,2),f=j[0],O=j[1],h=Object(o.useCallback)((function(e){l.scrollTo(t[e].offsetLeft-(l.offsetWidth-t[e].offsetWidth)/2,0)}),[t,l]),x=Object(o.useCallback)((function(){l&&l.scrollTo((l.scrollWidth-l.offsetWidth)/2,0),O(!1)}),[l]);return Object(o.useEffect)((function(){return t&&(x(),window.addEventListener("resize",x)),function(){window.removeEventListener("resize",x)}}),[t,x]),Object(o.useEffect)((function(){var e=function(e){if(!f){var t,n=(e.scrollWidth-e.clientWidth)/s.length,a=s.map((function(e,t){return(t+1)*n})),r=Object(ce.a)(a);try{for(r.s();!(t=r.n()).done;){var i=t.value;if(!(e.scrollLeft>i))return m(a.indexOf(i))}}catch(c){r.e(c)}finally{r.f()}}};return l&&setTimeout((function(){f||l.addEventListener("scroll",(function(){e(l)}))}),1e3),function(){l&&l.removeEventListener("scroll",(function(){return e(l)}))}}),[f,l]),Object(v.jsxs)(v.Fragment,{children:[n,i&&Object(v.jsx)("div",{className:"d-flex justify-content-center quote-comparison-mobile",children:s.map((function(e,t){return Object(v.jsx)("div",{className:Ie()("nav-button rounded",{"bg-brand-primary":b===t,"bg-neutral-2":b!==t}),onClick:function(){return h(t)}},t)}))})]})},Aa="o/c/quotecomparisons";function Ca(){return(Ca=Object(w.a)(B.a.mark((function e(){var t;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ee.get("".concat(Aa,"/scopes/").concat(Liferay.ThemeDisplay.getScopeGroupId()));case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ta(e){return Pa.apply(this,arguments)}function Pa(){return(Pa=Object(w.a)(B.a.mark((function e(t){var n;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ee.get("".concat(Aa,"/").concat(t));case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var wa=function(){var e=Object(o.useState)([]),t=Object(L.a)(e,2),n=t[0],a=t[1],r=fe().device,i=r.isMobile,c=r.isTablet,s=i||c;Object(o.useEffect)((function(){document.querySelector("section#content #main-content .container-fluid").classList.add("quote-comparison-content"),function(){return Ca.apply(this,arguments)}().then((function(e){return a(e.items)})).catch((function(e){return console.error(e.message)}))}),[]);var l=function(e){var t=e.id;$.setItem(ae,t),f(me)},u=function(){},d=document.querySelectorAll("#quote-comparison-item"),b=document.getElementById("quote-comparison-container");return Object(v.jsx)(_a,{cardElements:d,isMobileDevice:s,items:n,scrollableContainer:b,children:Object(v.jsx)("div",{className:Ie()("d-flex quote-comparison",{"mb-4":i,"mb-7":!i}),id:"quote-comparison-container",children:n.map((function(e,t){return Object(v.jsx)(Ia,{isMobileDevice:s,onClickPolicyDetails:u,onClickPurchase:l,product:e},t)}))})})};var La=Object(o.createContext)(),Ra=$.getItem(ae),ka="SET_ACCOUNT_ID",Ba="SET_COMMERCE",Da="SET_EXPANDED",Ma="SET_ORDER_ID",Ua="SET_PRODUCT",Ya="SET_SECTIONS",qa="SET_STEP_CHECKED",Fa={accountId:0,commerce:{channel:{},skus:[]},orderId:0,panel:{createAnAccount:{checked:!1,expanded:!0},selectPaymentMethod:{checked:!1,expanded:!1},uploadDocuments:{checked:!1,expanded:!1}},product:{},sections:[{error:!1,errorMessage:"Please upload a copy of your business license.",files:[],required:!0,sectionId:null,subtitle:"Upload a copy of your business license.",title:"Business License",type:"document"},{error:!1,files:[],required:!1,sectionId:null,subtitle:"Upload a copy of your additional documents.",title:"Additional Documents",type:"document"},{error:!1,errorMessage:"Please upload a photo of your building interior.",files:[],required:!0,sectionId:null,subtitle:"Upload at least 1 photo of your building interior.",title:"Building Interior Photos",type:"image"}]},Va=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fa,t=arguments.length>1?arguments[1]:void 0,n=function(t,n,a){var r=Object(R.a)({},e.panel);return r[t][n]=null!==a&&void 0!==a?a:!r[t][n],r};switch(t.type){case Ba:return Object(R.a)(Object(R.a)({},e),{},{commerce:t.payload});case Da:return Object(R.a)(Object(R.a)({},e),{},{panel:n(t.payload.panelKey,"expanded",t.payload.value)});case qa:var a=n(t.payload.panelKey,"checked",t.payload.value);return Object(R.a)(Object(R.a)({},e),{},{panel:a});case Ua:return Object(R.a)(Object(R.a)({},e),{},{product:t.payload});case ka:return Object(R.a)(Object(R.a)({},e),{},{accountId:t.payload});case Ya:return Object(R.a)(Object(R.a)({},e),{},{sections:t.payload});case Ma:return Object(R.a)(Object(R.a)({},e),{},{orderId:t.payload});default:return e}},Ha=function(e){var t=e.children,n=Object(o.useReducer)(Va,Fa),a=Object(L.a)(n,2),r=a[0],i=a[1],c=function(){var e=Object(w.a)(B.a.mark((function e(){var t,n,a,r,c,s,o;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=JSON.parse($.getItem(X)),n=t.basics.productQuote,e.next=3,Promise.allSettled([Ee.get("".concat("o/headless-commerce-admin-channel","/v1.0/channels?search=").concat("Raylife Channel")),(l=n,Ee.get("".concat("o/headless-commerce-admin-catalog","/v1.0/products/").concat(l,"/skus"))),Ta(Ra)]);case 3:a=e.sent,r=Object(L.a)(a,3),c=r[0],s=r[1],o=r[2],i({payload:{channel:c.value.data.items[0],skus:s.value.data.items},type:Ba}),i({payload:Object(R.a)(Object(R.a)({},o.value),{},{mostPopular:!0}),type:Ua});case 10:case"end":return e.stop()}var l}),e)})));return function(){return e.apply(this,arguments)}}();return Object(o.useEffect)((function(){c()}),[]),Object(v.jsx)(La.Provider,{value:[r,i],children:t})},Wa=function(e){var t=e.children,n=e.id,a=e.Middle,r=void 0===a?function(){return null}:a,i=e.Right,c=void 0===i?function(){return null}:i,s=e.title,l=void 0===s?"":s,u=e.titleNumber,d=void 0===u?"":u,b=e.hasError,m=void 0!==b&&b,p=Object(o.useContext)(La),j=Object(L.a)(p,1)[0].panel[n],f=j.checked,O=j.expanded,h=void 0!==O&&O,x=h||m;return Object(v.jsxs)("div",{className:"p-0 panel-container px-md-6 py-5 w-100",children:[Object(v.jsxs)("div",{className:"d-flex flex-wrap justify-content-between panel-header px-0",children:[Object(v.jsxs)("div",{className:"d-flex font-weight-bolder h4 mb-0 order-first text-neutral-9",children:[Object(v.jsxs)("div",{className:"mr-1",children:[d,"."]}),Object(v.jsx)("span",{className:Ie()("",{"break-title":"uploadDocuments"===n}),children:l})]}),Object(v.jsx)(r,{checked:f,expanded:h}),Object(v.jsx)(c,{checked:f,expanded:h})]}),Object(v.jsx)("div",{className:Ie()("panel-content",{"d-block":x,"d-none":!x}),children:x&&t})]})},Ga=function(e){var t=e.checked,n=e.expanded,a=e.hasError,r=t&&!(void 0!==a&&a)&&!n;return Object(v.jsx)("div",{className:"d-flex flex-row justify-content-end panel-right",children:Object(v.jsx)("div",{className:Ie()("align-items-center d-flex icon justify-content-center rounded-circle",{"bg-neutral-3":!r,"bg-success":r}),children:Object(v.jsx)(m.a,{className:"text-neutral-0",symbol:"check"})})})},za=function(e){var t=e.sections,n=void 0===t?[]:t;return n.length?Object(v.jsx)(v.Fragment,{children:n.map((function(e,t){if(e.files.length)return Object(v.jsxs)("div",{className:"mb-4 view-section",children:[Object(v.jsx)("h3",{className:"font-weight-bolder mb-2 text-neutral-8 text-paragraph-sm",children:e.title.toUpperCase()}),Object(v.jsx)("div",{className:"content d-flex flex-row",children:e.files.map((function(e,n){return e.type.includes("image")?Object(v.jsx)("div",{className:"image mr-2 rounded-xs",children:Object(v.jsx)("img",{alt:e.name,className:"rounded-xs",src:e.fileURL})},n):Object(v.jsx)("div",{className:"align-items-center bg-neutral-0 d-flex documents justify-content-center mr-2 rounded-xs",children:Object(v.jsx)(m.a,{className:e.icon,symbol:e.icon},t)},n)}))})]},t)}))}):null},Qa=$.getItem(Z),Ka=function(){var e=Object(o.useContext)(La),t=Object(L.a)(e,1)[0].product;return Object(v.jsxs)("div",{className:"mt-4 mt-md-0 pt-0 quote-info",children:[t.id&&Object(v.jsx)(Ia,{highlightMostPopularText:"Great Coverage",onClickPolicyDetails:function(){},product:t,purchasable:!1}),Object(v.jsxs)("div",{className:"font-weight-bolder mt-2 mt-lg-5 text-center text-lg-left text-uppercase",children:["Application ","#".concat(Qa)]})]})},Ja={noSpace:0,numberCharacter:0,qtdCharacter:0,samePassword:0,symbolCharacter:0,uniqueCharacter:0};function $a(e){var t={name:e,status:0,type:"business"};return Ee.post("".concat("o/headless-admin-user","/v1.0/accounts"),t)}var Xa,Za=function(e){return e?1:2};function er(){return(er=Object(w.a)(B.a.mark((function e(){var t,n,a,r;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=JSON.parse(J("raylife-application-form")),n=t.basics.businessInformation,e.next=3,$a("".concat(n.firstName," ").concat(n.lastName));case 3:return a=e.sent,r=a.data,e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function tr(e,t){var n=Object(R.a)({},Ja);if(e&&t&&(n.samePassword=t!==e?2:t===e?1:0),t){n.qtdCharacter=Za(t.length>=8);for(var a=new Set,r=0;r<t.length;r++){if(a.add(t.charAt(r)),a.size>=5){n.uniqueCharacter=1;break}n.uniqueCharacter=2}var i=new RegExp(ot);n.symbolCharacter=Za(i.test(t));var c=new RegExp(rt);n.numberCharacter=Za(c.test(t)),n.noSpace=Za(!t.includes(" "))}return n}var nr=(Xa={},Object(ie.a)(Xa,1,{className:"checked",symbol:"check"}),Object(ie.a)(Xa,0,{className:"neutral",symbol:"check"}),Object(ie.a)(Xa,2,{className:"unchecked",symbol:"hr"}),Xa);function ar(e){var t=e.label,n=e.status,a=nr[n]||{};return Object(v.jsxs)("span",{className:Ie()("create-account__rule",a.className),children:[Object(v.jsx)(m.a,{className:Ie()("create-account__rule__icon mr-1 rounded",a.className),symbol:a.symbol}),t]})}function rr(e){var t=e.objValidate;return Object(v.jsx)("div",{className:"ml-4 mt-3",children:Object(v.jsxs)("ul",{className:"list-unstyled",children:[Object(v.jsx)("li",{children:Object(v.jsx)(ar,{label:Object(v.jsxs)(v.Fragment,{children:["At least ",Object(v.jsx)("b",{children:"8 characters"})]}),status:t.qtdCharacter})}),Object(v.jsx)("li",{children:Object(v.jsx)(ar,{label:Object(v.jsxs)(v.Fragment,{children:["At least ",Object(v.jsx)("b",{children:"5 unique characters"})]}),status:t.uniqueCharacter})}),Object(v.jsx)("li",{children:Object(v.jsx)(ar,{label:Object(v.jsxs)(v.Fragment,{children:["At least ",Object(v.jsx)("b",{children:"1 symbol"})]}),status:t.symbolCharacter})}),Object(v.jsx)("li",{children:Object(v.jsx)(ar,{label:Object(v.jsxs)(v.Fragment,{children:["At least ",Object(v.jsx)("b",{children:"1 number"})]}),status:t.numberCharacter})}),Object(v.jsx)("li",{children:Object(v.jsx)(ar,{label:Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("b",{children:"No spaces"})," allowed"]}),status:t.noSpace})}),Object(v.jsx)("li",{children:Object(v.jsx)(ar,{label:"Passwords are the same",status:t.samePassword})})]})})}function ir(){var e=Object(o.useContext)(La),t=Object(L.a)(e,2)[1],n=Object(o.useState)(0),a=Object(L.a)(n,2),r=a[0],i=a[1],c=Object(o.useState)(""),s=Object(L.a)(c,2),l=s[0],u=s[1],d=Object(o.useState)(""),b=Object(L.a)(d,2),m=b[0],p=b[1],j=Object(o.useState)(""),f=Object(L.a)(j,2),O=f[0],h=f[1],x=Object(o.useState)(Ja),S=Object(L.a)(x,2),y=S[0],E=S[1],g=Object(o.useState)("Create a Password"),N=Object(L.a)(g,2),I=N[0],_=N[1];Object(o.useEffect)((function(){i(0)}),[l,m,O]);var A=function(e){return new RegExp(nt).test(e)}(m),C=function(){for(var e=0,t=Object.values(y);e<t.length;e++){if(1!==t[e])return!1}return A},T=C();return Object(v.jsxs)("div",{className:"create-account mb-md-4 ml-lg-5 ml-md-4 mt-0 mt-md-4",children:[Object(v.jsx)("h5",{className:"font-weight-bolder mb-5 mx-0",children:"Create a Raylife account to continue. This will be used to login to your dashboard."}),Object(v.jsxs)(Qe.a,{autoComplete:"off",className:"create-account__form",children:[Object(v.jsxs)("div",{className:"create-account__form__content-input filled form-condensed form-group mb-1 mt-4",children:[Object(v.jsx)(ze.ClayInput,{autoComplete:"off",className:"bg-neutral-0 email w-100",id:"email",name:"email",onChange:function(e){p(e.target.value)},placeholder:"sam.jones@gmail.com",required:!0,type:"text",value:m}),Object(v.jsx)("label",{htmlFor:"email",children:"Email"})]}),Object(v.jsx)("div",{children:m&&!A&&Object(v.jsx)(Ke,{children:"Please enter a valid email address."})}),Object(v.jsxs)("div",{className:Ie()("create-account__form__content-input form-condensed form-group mt-4",{filled:O}),children:[Object(v.jsx)(ze.ClayInput,{autoComplete:"off",className:"w-100",id:"password",onBlur:function(){O||_("Create a Password")},onChange:function(e){h(e.target.value),E(tr(l,e.target.value))},onFocus:function(){return _("Password")},required:!0,type:"password",value:O}),Object(v.jsx)("label",{htmlFor:"password",children:I})]}),Object(v.jsxs)("div",{className:Ie()("create-account__form__content-input form-condensed form-group mt-4",{filled:l}),children:[Object(v.jsx)(ze.ClayInput,{autoComplete:"off",className:"w-100",id:"rePassword",onChange:function(e){u(e.target.value),E(tr(e.target.value,O))},required:!0,type:"password",value:l}),Object(v.jsx)("label",{htmlFor:"rePassword",children:"Re-enter Password"})]}),Object(v.jsx)(rr,{objValidate:y})]}),Object(v.jsx)("div",{className:"d-flex justify-content-center justify-content-md-end",children:Object(v.jsx)(Ht.a,{className:"mb-0 mt-8 mx-0",disabled:!T,displayType:"primary",onClick:function(){C&&function(){return er.apply(this,arguments)}(m,O).then((function(e){t({payload:{panelKey:"uploadDocuments",value:!0},type:Da}),t({payload:{panelKey:"createAnAccount",value:!1},type:Da}),t({payload:{panelKey:"createAnAccount",value:!0},type:qa}),t({payload:e.id,type:ka})}))},children:"CREATE ACCOUNT"})}),m&&2===r&&Object(v.jsx)("div",{className:"create-account__alert-create",children:Object(v.jsx)(Ke,{children:"Unable to create your account. Please try again"})})]})}function cr(){var e=j().replace("/web/","");return"/webdav/".concat(e,"/document_library/")}var sr="o/headless-commerce-delivery-cart";function or(e){return Ee.get("".concat(sr,"/v1.0/carts/").concat(e,"/payment-methods"))}function lr(e,t){return Ee.get("".concat(sr,"/v1.0/carts/").concat(e,"/payment-url?callbackURL=").concat(t))}function ur(e){return Ee.post("".concat(sr,"/v1.0/carts/").concat(e,"/checkout"))}var dr="o/headless-commerce-admin-order";function br(e,t,n){var a={orderItems:[Object(R.a)({discountAmount:0,discountPercentageLevel1:0,discountPercentageLevel2:0,discountPercentageLevel3:0,discountPercentageLevel4:0},t)],paymentMethod:e,subtotal:t.finalPrice,total:t.finalPrice};return Ee.patch("".concat(dr,"/v1.0/orders/").concat(n),a)}var mr="INSTALLMENT",pr="PAY IN FULL",jr=function(e){var t=e.children,n=e.onSelected,a=e.selected,r=void 0!==a&&a,i=e.value;return Object(v.jsxs)("div",{className:Ie()("align-self-center align-items-center border d-flex pay-card px-3 py-2 rounded-sm user-select-auto",{"bg-brand-primary-lighten-5  border-primary rounded-sm":r,"border-white":!r}),onClick:function(){n(i)},children:[Object(v.jsx)(ze.ClayRadio,{checked:r,id:"radio-".concat(i),name:"radio",type:"radio",value:i}),t]})},fr=function(){var e=Object(o.useState)(!1),t=Object(L.a)(e,2),n=t[0],a=t[1],r=Object(o.useState)([]),i=Object(L.a)(r,2),c=i[0],s=i[1],l=Object(o.useContext)(La),u=Object(L.a)(l,2),d=u[0],b=d.accountId,m=d.commerce,p=m.channel,f=m.skus,O=d.orderId,h=d.product,x=u[1],S=Number(h.price),y=S/2,E=.05*S,g=S-E,N=c.find((function(e){return e.checked}));function I(e){var t={currency:"USD",style:"currency"};return e.toLocaleString("en-US",e%1===0?Object.assign(t,{maximumFractionDigits:0}):t)}var _=function(){var e=Object(w.a)(B.a.mark((function e(){var t,n,a,r,i,c;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=(t=function(e){return f.find((function(t){return t.sku===e}))||f[0]})(mr),a=t(pr),e.next=5,or(O);case 5:r=e.sent,i=r.data,c=(void 0===i?{}:i).items,s(c.map((function(e){return{checked:!1,image:"".concat(cr(),"/").concat(e.key.replace("-","_"),".svg"),options:[{checked:!0,description:"Save ".concat(I(E)),id:0,orderItem:{discountAmount:E,finalPrice:g,id:0,quantity:1,skuId:a.id,unitPrice:g},title:"Pay in full - ".concat(I(g))},{checked:!1,description:"",id:1,orderItem:{finalPrice:y,id:0,quantity:1,skuId:n.id,unitPrice:y},title:"2 payments of ".concat(I(y))}],title:e.name,value:e.key}})));case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(o.useEffect)((function(){O||function(e,t,n){var a,r=JSON.parse($.getItem(X)),i=null===r||void 0===r||null===(a=r.basics)||void 0===a?void 0:a.businessInformation,c=i.business,s=c.location,o=s.address,l=s.addressApt,u=s.city,d=s.state,b=s.zip,m=c.phone,p=i.firstName,j=i.lastName,f={city:u,countryISOCode:"US",description:l,id:0,latitude:0,longitude:0,name:"".concat(p," ").concat(j),phoneNumber:m,regionISOCode:d,street1:o,zip:b},v={accountId:e,billingAddress:f,channelId:t,currencyCode:"USD",orderItems:[{id:0,quantity:1,skuId:n}],orderStatus:2,shippingAddress:f,shippingAmount:0,shippingWithTaxAmount:0};return Ee.post("".concat(dr,"/v1.0/orders"),v)}(b,p.id,f[0].id).then((function(e){return x({payload:e.data.id,type:Ma})}))}),[O]),Object(o.useEffect)((function(){O&&_()}),[O]);var A=function(e){s(c.map((function(t){return Object(R.a)(Object(R.a)({},t),{},{checked:t.value===e})})))},C=function(){var e=Object(w.a)(B.a.mark((function e(t){var n,a,r,i;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.options.find((function(e){return e.checked})),a=n.orderItem,e.next=3,br(t.value,a,O);case 3:return e.next=5,ur(O);case 5:return e.next=7,lr(O,"".concat(origin).concat(j(),"/congrats"));case 7:r=e.sent,i=r.data,window.location.href=i;case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(v.jsxs)("div",{className:"c-mb-4 c-mt-5 ml-1 ml-sm-3",children:[Object(v.jsxs)("div",{className:"c-mb-3 c-mt-5 d-flex flex-column",children:[Object(v.jsx)("h5",{className:"mb-3",children:"Payment Method"}),c.map((function(e,t){return Object(v.jsx)("div",{className:"align-items-center c-mb-3 d-flex flex-row payment-method",children:Object(v.jsxs)(jr,{onSelected:A,selected:e.checked,value:e.value,children:[Object(v.jsx)("div",{className:"align-items-center d-flex justify-content-center",children:Object(v.jsx)("div",{children:Object(v.jsx)("img",{className:"bg-neutral-0 border c-p-1 card-outlined pay-card-image rounded-sm",src:e.image})})}),Object(v.jsx)("p",{children:e.title})]})},t)}))]}),Object(v.jsx)("div",{className:"c-mb-5 d-flex flex-column",children:N&&Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("h5",{className:"c-mb-3",children:"Billing Options"}),N.options.length?Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("div",{className:"d-sm-flex",children:N.options.map((function(e,t){return Object(v.jsx)("div",{className:Ie()("align-items-center billing-options c-mb-3 c-mr-3 c-px-5 c-py-3 d-flex flex-column justify-content-center rounded-sm",{border:!e.checked,"selected shadow-lg type-payment-card-solid":e.checked}),onClick:function(){return t=e.id,void s(c.map((function(e){return Object(R.a)(Object(R.a)({},e),{},{options:e.options.map((function(e){return Object(R.a)(Object(R.a)({},e),{},{checked:e.id===t})}))})})));var t},children:Object(v.jsxs)("div",{children:[Object(v.jsx)("p",{className:"text-center text-link-sm",children:e.title}),Object(v.jsx)("p",{className:Ie()("text-center",{"font-weight-bold text-accent-5 text-paragraph-xs":e.checked,"text-paragraph-xs":!e.checked}),children:e.description})]})},t)}))}),Object(v.jsxs)("div",{className:"d-flex flex-row",children:[Object(v.jsx)("div",{className:"c-mr-2",children:Object(v.jsx)(ze.ClayCheckbox,{checked:n,name:"agree-check",onChange:function(){return a(!n)},type:"checkbox",value:n})}),Object(v.jsx)("p",{className:"align-items-center c-mb-6 d-flex justify-content-center justify-content-md-end text-paragraph-sm",children:Object(v.jsxs)("span",{children:["I have read and agree to the\xa0",Object(v.jsx)("strong",{children:"Raylife Terms and Conditions"})]})})]}),Object(v.jsx)("div",{className:"c-mb-2 c-mt-7 d-flex justify-content-center justify-content-sm-end payment-button",children:Object(v.jsx)(Ht.a,{className:"btn-solid c-px-5 display-4 text-link-md text-uppercase",disabled:!n,displayType:"style-secondary",onClick:function(){return C(N)},children:"Pay Now"})}),"paypal"===N.value&&Object(v.jsx)("p",{className:"d-flex justify-content-center justify-content-sm-end option-message text-center",children:"You will be redirected to PayPal to complete payment"})]}):Object(v.jsx)("div",{className:"no-options",children:Object(v.jsx)("p",{children:"No options..."})})]})})]})},vr="o/headless-delivery",Or={description:">...",parentDocumentFolderId:0,viewableBy:"Anyone"};function hr(e,t,n){return xr.apply(this,arguments)}function xr(){return(xr=Object(w.a)(B.a.mark((function e(t,n,a){var r;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=new FormData).append("file",n),e.abrupt("return",Ee.post("".concat(vr,"/v1.0/document-folders/").concat(t,"/documents"),r,{onUploadProgress:function(e){var t=Math.round(100*e.loaded/e.total);a(t)}}));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Sr=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2?arguments[2]:void 0;return Ee.get(n?"".concat(vr,"/v1.0/document-folders/").concat(e,"/document-folders/").concat(t):"".concat(vr,"/v1.0/sites/").concat(e,"/document-folders/").concat(t))};function yr(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return Ee.post(n?"".concat(vr,"/v1.0/document-folders/").concat(e,"/document-folders"):"".concat(vr,"/v1.0/sites/").concat(e,"/document-folders/"),t)}function Er(e,t,n){return gr.apply(this,arguments)}function gr(){return(gr=Object(w.a)(B.a.mark((function e(t,n,a){var r,i,c;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Sr(t,"?filter=contains(name, '".concat(n,"')"),a);case 2:if(!(i=e.sent).data.totalCount){e.next=7;break}r=i.data.items[0],e.next=11;break;case 7:return e.next=9,yr(t,Object(R.a)(Object(R.a)({},Or),{},{name:n}),a);case 9:c=e.sent,r=c.data;case 11:return e.abrupt("return",r);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Nr(e){return Ir.apply(this,arguments)}function Ir(){return(Ir=Object(w.a)(B.a.mark((function e(t){var n,a,r;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=$.getItem(Z),e.next=3,Er(p.ThemeDisplay.getScopeGroupId(),t);case 3:return a=e.sent,e.next=6,Er(a.id,n,!0);case 6:return r=e.sent,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var _r=["children"];function Ar(e){var t=e.children,n=Object(_e.a)(e,_r);return Object(v.jsxs)("div",Object(R.a)(Object(R.a)({},n),{},{className:"align-items-center badge badge-info d-flex rounded",children:[Object(v.jsx)(m.a,{className:"c-ml-4 c-mr-2 flex-shrink-0",symbol:"info-circle"}),t]}))}var Cr=function(e){var t=e.progress;return Object(v.jsx)("div",{className:"progress-bar",style:{height:4,width:144},children:Object(v.jsx)("div",{className:"progress-bar__progress",style:{width:"".concat(t,"%")}})})},Tr=n(13),Pr={"application/pdf":"document-pdf","application/vnd.openxmlformats-officedocument.presentationml.presentation":"document-presentation","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":"document-table","application/vnd.openxmlformats-officedocument.wordprocessingml.document":"document-text","text/plain":"document-text"};function wr(e){return Pr[e]||"document-unknown"}function Lr(e,t){return("image"===t?["image/jpeg","image/jpg","image/png"]:Object.keys(Pr)).includes(e)}function Rr(e){return e.some((function(e){return e.error}))}var kr="176px",Br="176px",Dr=function(e){var t=e.dropAreaProps,n=t.heightContainer,a=t.limitFiles,r=t.type,i=t.widthContainer,c=e.files,s=void 0===c?[]:c,l=e.setFiles,u=e.setShowBadgeInfo,d=Object(o.useState)(i),b=Object(L.a)(d,2),p=b[0],j=b[1],f=Object(o.useState)(n),O=Object(L.a)(f,2),h=O[0],x=O[1],S=Object(o.useState)(!1),y=Object(L.a)(S,2),E=y[0],g=y[1],N=Object(o.useRef)(),I=Object(o.useRef)(),_=Object(o.useRef)(s),A=Object(o.useRef)(h),C=Object(o.useRef)(),T=Object(o.useRef)(E),P=Object(o.useRef)(p),R=function(e){A.current=e,x(e)},k=function(e){T.current=e,g(e)},D=function(e){P.current=e,j(e)};function M(e){return new Promise((function(t,n){var a=new FileReader;a.readAsDataURL(e),a.onload=function(){t(a)},a.onerror=n}))}var U=function(){var e=Object(w.a)(B.a.mark((function e(t){var n,i,c;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(_.current.length+t.length>a)){e.next=3;break}return e.abrupt("return",u(!0));case 3:n=Object(ce.a)(t),e.prev=4,c=B.a.mark((function e(){var t,n,a,c;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=i.value,n=t.name,a=t.type,!_.current.some((function(e){return e.name===n}))){e.next=7;break}return alert("File ".concat(n," already exists!")),e.abrupt("return","continue");case 7:if(Lr(a,r)){e.next=10;break}return alert("Invalid file ".concat(n,"!")),e.abrupt("return","continue");case 10:return e.next=12,M(t);case 12:c=e.sent,t.icon=wr(a),t.id="".concat(n,"-").concat(Math.random()),t.fileURL=c.result,s=[].concat(Object(Tr.a)(_.current),[t]),_.current=s,l(s);case 17:case"end":return e.stop()}var s}),e)})),n.s();case 7:if((i=n.n()).done){e.next=14;break}return e.delegateYield(c(),"t0",9);case 9:if("continue"!==e.t0){e.next=12;break}return e.abrupt("continue",12);case 12:e.next=7;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(4),n.e(e.t1);case 19:return e.prev=19,n.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[4,16,19,22]])})));return function(t){return e.apply(this,arguments)}}();return Object(o.useEffect)((function(){_.current=s}),[s]),Object(o.useEffect)((function(){var e=N.current,t=I.current,n=C.current;"image"===r&&(D(kr),R(Br)),e.onclick=function(){n.value=null,n.click()};var a=function(){U(this.files)},i=function(e){e.preventDefault()},c=function(e){e.preventDefault(),U(e.dataTransfer.files)};return t.addEventListener("dragover",i),t.addEventListener("drop",c),n.addEventListener("change",a),function(){t.removeEventListener("dragover",i),t.removeEventListener("drop",c),n.removeEventListener("change",a)}}),[]),Object(o.useEffect)((function(){var e=s.length;if(e>=1&&e<a)return D(kr),R(Br),k(!0),u(!1);0===e&&"image"!==r&&(D(i),R(n)),k(!0),0!==e&&(u(!0),k(!1))}),[s]),Object(v.jsx)("div",{className:Ie()("align-items-center bg-brand-primary-lighten-6 font-weight-normal text-neutral-8 d-flex drop-area flex-wrap justify-content-center position-static rounded-xl text-paragraph",{"d-none":!E}),ref:I,style:{height:"".concat(h),width:"".concat(p)},children:Object(v.jsxs)("div",{className:"align-items-center d-flex flex-wrap justify-content-center upload-button",children:[Object(v.jsxs)("p",{className:"c-px-2 display-mobile",children:["Drag & drop files or","image"!==r&&Object(v.jsx)("span",{children:"\xa0"})]}),Object(v.jsxs)("a",{className:"align-items-center c-px-3 c-py-2 d-flex font-weight-bolder justify-content-center link-button rounded-xs text-brand-primary text-paragraph-sm",ref:N,children:[Object(v.jsx)(m.a,{className:"c-mr-2",symbol:"upload"}),"BROWSE FILES"]})," ",Object(v.jsx)("input",{className:"d-none input-file position-relative rounded-xl",multiple:!0,name:"input-file",ref:C,style:{height:"".concat(h),top:"-".concat(h),width:"".concat(p)},type:"file"})]})})},Mr=function(e){var t=e.file,n=e.onRemoveFile,a=e.showCloseButton,r=void 0===a||a,i=e.showName,c=void 0===i||i;return Object(v.jsxs)(v.Fragment,{children:[c&&Object(v.jsx)("span",{className:"c-mt-1 ellipsis mb-3 text-center text-neutral-7 text-paragraph-sm",title:t.name,children:t.name}),r&&Object(v.jsx)("div",{className:"align-items-center bg-neutral-0 close-icon d-flex justify-content-center position-relative rounded-circle",onClick:function(){return n(t)},children:Object(v.jsx)(m.a,{symbol:"times"})})]})},Ur=function(e){var t=e.file,n=e.onRemoveFile,a=e.showCloseButton,r=void 0===a||a,i=e.showName,c=void 0===i||i,s=e.type,o=void 0===s?"image":s;return Object(v.jsx)("div",{className:"d-flex flex-column mr-1 mr-sm-3 view-file-document",children:Object(v.jsxs)("div",{className:"d-flex div-document flex-column text-center",title:t.name,children:[Object(v.jsx)("div",{className:"align-items-center bg-neutral-1 content d-flex justify-content-center rounded-xl",children:"image"===o?Object(v.jsx)("div",{className:"d-flex flex-column image text-center",children:Object(v.jsx)("img",{alt:t.name,className:"rounded-xl",src:t.fileURL})}):Object(v.jsx)(m.a,{className:t.icon,symbol:t.icon})}),Object(v.jsx)(Mr,{file:t,onRemoveFile:n,showCloseButton:r,showName:c})]})})},Yr=function(e){var t=e.dropAreaProps,n=e.files,a=void 0===n?[]:n,r=e.onRemoveFile,i=e.setFiles,c=e.setShowBadgeInfo,s=e.type;return Object(v.jsxs)("div",{className:"d-flex flex-wrap view-file",children:[a.map((function(e,t){return e.progress<100?Object(v.jsxs)("div",{className:Ie()("flex-column",{"mr-1 mr-sm-3":t<3}),title:e.name,children:[Object(v.jsxs)("div",{className:"align-items-center bg-brand-primary-lighten-6 c-mb-1 card d-flex flex-column justify-content-center rounded-xl",children:[Object(v.jsx)("p",{className:"font-weight-normal text-neutral-8 text-paragraph",children:"Uploading..."}),Object(v.jsx)(Cr,{height:"4",progress:e.progress,width:"144"})]}),Object(v.jsx)(Mr,{file:e,onRemoveFile:r,showCloseButton:!1})]}):Object(v.jsx)(Ur,{file:e,onRemoveFile:r,type:s},t)})),Object(v.jsx)(Dr,{dropAreaProps:t,files:a,setFiles:i,setShowBadgeInfo:c})]})},qr=function(e){var t=e.dropAreaProps,n=e.files,a=e.setFiles,r=e.title,i=Object(o.useState)(!1),c=Object(L.a)(i,2),s=c[0],l=c[1];return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(Yr,{dropAreaProps:t,files:n,onRemoveFile:function(e){var t=e.documentId,r=e.id;try{t&&function(e){Ee.delete("".concat(vr,"/v1.0/documents/").concat(e,"/"))}(t);var i=n.filter((function(e){return e.id!==r}));a(i)}catch(c){console.error(c)}},setFiles:a,setShowBadgeInfo:l,type:t.type}),s&&Object(v.jsx)("div",{className:"c-mt-3 upload-alert",children:Object(v.jsx)(Ar,{children:Object(v.jsxs)("div",{className:"alert-content align-items-center d-flex justify-content-between w-100",children:[Object(v.jsx)("div",{className:"alert-description font-weight-normal text-paragraph",children:"".concat(t.limitFiles," files upload limit reached for ").concat(r,".")}),Object(v.jsx)("div",{className:"close-icon mr-4",onClick:function(){return l(!s)},children:Object(v.jsx)(m.a,{className:"flex-shrink-0",symbol:"times"})})]})})})]})},Fr={heightContainer:"120px",limitFiles:4,widthContainer:"100%"},Vr=function(){var e=Object(o.useContext)(_),t=Object(o.useContext)(La),n=Object(L.a)(t,2),a=n[0].sections,r=n[1],i=Object(o.useState)(!1),c=Object(L.a)(i,2),s=c[0],l=c[1],u=function(e){r({payload:e,type:Ya})},d=function(e,t){u(a.map((function(n){return n.title===e.title&&(n.error=t),n})))},b=function(e,t,n){u(a.map((function(a){return Object(R.a)(Object(R.a)({},a),{},{files:a.files.map((function(a){return a.id===e&&(a[t]=n),a}))})})))},p=function(){var t=Object(w.a)(B.a.mark((function t(){var n,i,c,s,o,u,m,p;return B.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return l(!0),t.next=3,Nr(e.applicationsfoldername);case 3:n=t.sent,i=Object(ce.a)(a),t.prev=5,i.s();case 7:if((c=i.n()).done){t.next=37;break}return s=c.value,d(s,!1),t.next=12,Er(n.id,s.title,!0);case 12:if(o=t.sent,!s.required||0!==s.files.length){t.next=16;break}return d(s,!0),t.abrupt("continue",35);case 16:u=Object(ce.a)(s.files),t.prev=17,p=B.a.mark((function e(){var t,n,a;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=m.value).documentId){e.next=3;break}return e.abrupt("return","continue");case 3:return e.prev=3,e.next=6,hr(o.id,t,(function(e){return b(t.id,"progress",e)}));case 6:n=e.sent,a=n.data,b(t.id,"documentId",a.id),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(3),console.error(e.t0);case 14:case"end":return e.stop()}}),e,null,[[3,11]])})),u.s();case 20:if((m=u.n()).done){t.next=27;break}return t.delegateYield(p(),"t0",22);case 22:if("continue"!==t.t0){t.next=25;break}return t.abrupt("continue",25);case 25:t.next=20;break;case 27:t.next=32;break;case 29:t.prev=29,t.t1=t.catch(17),u.e(t.t1);case 32:return t.prev=32,u.f(),t.finish(32);case 35:t.next=7;break;case 37:t.next=42;break;case 39:t.prev=39,t.t2=t.catch(5),i.e(t.t2);case 42:return t.prev=42,i.f(),t.finish(42);case 45:l(!1),Rr(a)||(r({payload:{panelKey:"selectPaymentMethod",value:!0},type:Da}),r({payload:{panelKey:"uploadDocuments",value:!1},type:Da}),r({payload:{panelKey:"uploadDocuments",value:!0},type:qa})),ea();case 48:case"end":return t.stop()}}),t,null,[[5,39,42,45],[17,29,32,35]])})));return function(){return t.apply(this,arguments)}}();return Object(v.jsxs)("div",{className:"d-flex flex-column flex-wrap upload-container",children:[a.map((function(e,t){return Object(v.jsxs)("section",{className:"c-pl-lg-4 c-pl-md-4 c-pr-0 c-pt-4 upload-section",children:[Object(v.jsxs)("header",{className:"c-mb-3 header",children:[Object(v.jsxs)("h5",{className:"c-mb-1 font-weight-bolder h5 upload-title",children:[e.title,e.required?Object(v.jsx)("span",{className:"reference-mark",children:Object(v.jsx)(m.a,{className:"text-warning upload-asterisk",symbol:"asterisk"})}):Object(v.jsx)("span",{className:"text-neutral-8",children:" (optional)"})]}),Object(v.jsx)("span",{className:"font-weight-normal text-neutral-8 text-paragraph",children:e.subtitle})]}),Object(v.jsx)("div",{className:"d-flex flex-column upload-content",children:Object(v.jsx)(qr,{dropAreaProps:Object(R.a)(Object(R.a)({},Fr),{},{type:e.type}),files:e.files,setFiles:function(t){return function(e,t){u(a.map((function(n){return n.title===e.title&&(n.files=t,n.error=!1),n})))}(e,t)},title:e.title})}),e.error&&Object(v.jsx)("div",{className:"c-mt-3 upload-alert",children:Object(v.jsx)(Ke,{children:Object(v.jsx)("div",{className:"alert-content",children:Object(v.jsx)("div",{className:"alert-description",children:e.errorMessage})})})})]},t)})),Object(v.jsx)("div",{className:"d-flex justify-content-center justify-content-md-end mt-6",children:Object(v.jsx)(Ht.a,{className:"font-weight-bolder rounded-sm text-neutral-0 text-paragraph",disabled:s,displayType:"primary",onClick:p,children:"CONFIRM UPLOADS"})})]})},Hr=function(e){var t=e.onClose,n=e.onDiscardChanges,a=e.show,r=fe().device.isMobile;return Object(v.jsx)(ke,{closeable:!1,footer:Object(v.jsxs)("div",{className:"align-items-center d-flex flex-row justify-content-between ml-2 mr-1 mt-auto",children:[Object(v.jsx)("button",{className:"btn btn-link link text-link-md text-neutral-7 text-small-caps upload-documents-mobile",onClick:t,children:"Cancel"}),Object(v.jsx)("button",{className:"btn btn-primary rounded text-link-md text-small-caps",onClick:function(){n(),t()},children:"Continue"})]}),onClose:t,show:a,size:r?"small-mobile":"small",children:Object(v.jsx)("div",{className:"align-items-center d-flex flex-column justify-content-between mb-4 mb-md-0 mt-2 mt-md-auto progress-saved-content",children:Object(v.jsx)("div",{className:"align-items-center d-flex flex-column progress-saved-body",children:Object(v.jsx)("div",{className:"font-weight-semi-bold pt-1 text-center text-neutral-8 text-paragraph-lg upload-documents-mobile",children:"This will discard the files you have uploaded so far. Continue?"})})})})},Wr=function(e){var t=e.checked,n=e.expanded,a=e.hasError,r=Object(o.useState)(!1),i=Object(L.a)(r,2),c=i[0],s=i[1],l=Object(o.useContext)(La),u=Object(L.a)(l,2),d=u[0].sections,b=u[1],m=Object(o.useState)(!1),p=Object(L.a)(m,2),j=p[0],f=p[1];return Object(o.useEffect)((function(){var e=!1;null===d||void 0===d||d.forEach((function(t){var n;(null===(n=t.files)||void 0===n?void 0:n.some((function(e){return!e.documentId})))&&(e=!0)})),s(e)}),[d]),Object(v.jsxs)("div",{className:"d-flex flex-row justify-content-end order-2 order-lg-2 order-md-3 order-xl-3 panel-right",children:[Object(v.jsxs)("div",{className:"change-link",children:[t&&!a&&!n&&Object(v.jsx)("span",{className:"mr-4",onClick:function(){b({payload:{panelKey:"uploadDocuments",value:!0},type:Da}),b({payload:{panelKey:"uploadDocuments",value:!1},type:qa}),b({payload:{panelKey:"selectPaymentMethod",value:!1},type:Da})},children:"Change"}),!t&&n&&c&&Object(v.jsx)("span",{className:"mr-4",onClick:function(){return f(!0)},children:"Discard Changes"})]}),Object(v.jsx)(Ga,{checked:t,expanded:n,hasError:a}),Object(v.jsx)(Hr,{onClose:function(){return f(!1)},onDiscardChanges:function(){b({payload:null===d||void 0===d?void 0:d.map((function(e){return e.files=e.files.filter((function(e){return e.documentId})),e})),type:Ya})},show:j})]})},Gr=function(){var e=Object(o.useContext)(La),t=Object(L.a)(e,1)[0].sections,n=Object(o.useState)(!1),a=Object(L.a)(n,2),r=a[0],i=a[1];return Object(o.useEffect)((function(){document.querySelector("section#content #main-content .container-fluid").classList.add("selected-quote-content")}),[]),Object(o.useEffect)((function(){t&&i(Rr(t))}),[t]),Object(v.jsxs)("div",{className:"container d-flex flex-column flex-lg-row mb-10 w-100",children:[Object(v.jsx)(Ka,{}),Object(v.jsxs)("div",{className:"ml-0 ml-lg-5 w-100",children:[Object(v.jsx)(Wa,{Right:Ga,id:"createAnAccount",title:"Create an Account",titleNumber:"1",children:Object(v.jsx)(ir,{})}),Object(v.jsx)(Wa,{Middle:function(e){var n=e.checked,a=!e.expanded&&n;return Object(v.jsx)("div",{className:Ie()("order-last order-lg-3 order-md-2 order-xl-2 panel-middle",{"d-none":!a}),children:a&&Object(v.jsx)(za,{sections:t})})},Right:Wr,changeable:!0,hasError:r,id:"uploadDocuments",title:"Upload Documents",titleNumber:"2",children:Object(v.jsx)(Vr,{})}),Object(v.jsx)(Wa,{Right:Ga,id:"selectPaymentMethod",title:"Select Payment Method",titleNumber:"3",children:Object(v.jsx)(fr,{})})]})]})},zr=function(){return Object(v.jsx)(Ha,{children:Object(v.jsx)(Gr,{})})},Qr=function(e){var t=e.route,n=new URLSearchParams(window.location.search).get("raylife_dev_application")||t;return"quote-comparison"===n?Object(v.jsx)(wa,{}):"get-a-quote"===n?Object(v.jsx)(Sa,{}):"selected-quote"===n?Object(v.jsx)(zr,{}):void 0},Kr=function(e){Object(i.a)(n,e);var t=Object(c.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(r.a)(n,[{key:"connectedCallback",value:function(){var e={applicationsfoldername:this.getAttribute("applicationsfoldername"),googleplaceskey:this.getAttribute("googleplaceskey"),route:this.getAttribute("route")};e.googleplaceskey&&N(e.googleplaceskey),d.a.render(Object(v.jsx)(h,{children:Object(v.jsx)(A,{properties:e,children:Object(v.jsx)(Qr,{route:e.route})})}),this)}}]),n}(Object(s.a)(HTMLElement)),Jr="liferay-remote-app-raylife";customElements.get(Jr)||customElements.define(Jr,Kr)},44:function(e,t){},81:function(e,t,n){}},[[153,1,2]]]);
//# sourceMappingURL=main.1a171f67.chunk.js.map